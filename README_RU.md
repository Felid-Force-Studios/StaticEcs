![Version](https://img.shields.io/badge/version-0.9.0-blue.svg?style=for-the-badge)

### –Ø–ó–´–ö
[RU](./README_RU.md)
[EN](./README.md)
___
### [BENCHMARKS](./Benchmark.md)
 
# Static ECS - C# Entity component system framework
- –õ–µ–≥–∫–æ–≤–µ—Å–Ω–æ—Å—Ç—å
- –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- –û—Ç—Å—É—Ç—Å–≤–∏–µ –∞–ª–ª–æ–∫–∞—Ü–∏–π
- –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- –ë–µ–∑ Unsafe
- –û—Å–Ω–æ–≤–∞–Ω –Ω–∞ —Å—Ç–∞—Ç–∏–∫–µ –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞—Ö
- –¢–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–µ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏
- –ú–æ—â–Ω—ã–π –º–µ—Ö–∞–Ω–∏–∑–º –∑–∞–ø—Ä–æ—Å–æ–≤
- –ú–∏–Ω–∏–º—É–º –±–æ–ª–µ—Ä–ø–ª–µ–π—Ç–∞
- –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å Unity –∏ –¥—Ä—É–≥–∏–º–∏ C# –¥–≤–∏–∂–∫–∞–º–∏
### –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∏ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:
> - –ù–µ –ø–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–µ–Ω
> - –ú–æ–≥—É—Ç –±—ã—Ç—å –Ω–µ–∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è API

## –û–≥–ª–∞–≤–ª–µ–Ω–∏–µ
* [–ö–æ–Ω—Ç–∞–∫—Ç—ã](#–∫–æ–Ω—Ç–∞–∫—Ç—ã)
* [–£—Å—Ç–∞–Ω–æ–≤–∫–∞](#—É—Å—Ç–∞–Ω–æ–≤–∫–∞)
* [–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç](#–±—ã—Å—Ç—Ä—ã–π-—Å—Ç–∞—Ä—Ç)
* [–ö–æ–Ω—Ü–µ–ø—Ü–∏—è](#–∫–æ–Ω—Ü–µ–ø—Ü–∏—è)
* [–û—Å–Ω–æ–≤–Ω—ã–µ —Ç–∏–ø—ã](#–æ—Å–Ω–æ–≤–Ω—ã–µ-—Ç–∏–ø—ã)
    * [Entity](#entity)
    * [PackedEntity](#packedentity)
    * [Component](#component)
    * [Tag](#tag)
    * [Mask](#mask)
    * [WorldId](#worldId)
    * [Ecs](#ecs)
    * [World](#world)
    * [Systems](#systems)
    * [Context](#context)
    * [Query](#query)
* [–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏](#–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ-–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏)
    * [–ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤](#–∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤)
    * [–ê–≤—Ç–æ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏](#–∞–≤—Ç–æ-–æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏)
    * [–°–æ–±—ã—Ç–∏—è](#—Å–æ–±—ã—Ç–∏—è)
    * [–û—Ç–Ω–æ—à–µ–Ω–∏—è](–æ—Ç–Ω–æ—à–µ–Ω–∏—è)
* [–°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Ç–∏–ø—ã](#—Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ-—Ç–∏–ø—ã)
    * [Components](#components)
    * [ComponentsPool](#componentsPool)
    * [Tags](#tags)
    * [TagsPool](#tagsPool)
    * [Masks](#masks)
    * [MasksPool](#masksPool)
* [–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å](#–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å)
* [–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ –¥–≤–∏–∂–∫–∏](#–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è-–≤-–¥–≤–∏–∂–∫–∏)
    * [Unity](#unity)
* [–í–æ–ø—Ä–æ—Å-–æ—Ç–≤–µ—Ç](#–≤–æ–ø—Ä–æ—Å-–æ—Ç–≤–µ—Ç)
* [–õ–∏—Ü–µ–Ω–∑–∏—è](#–ª–∏—Ü–µ–Ω–∑–∏—è)


# –ö–æ–Ω—Ç–∞–∫—Ç—ã
* [Telegram](https://t.me/felid_force_studios)
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞
* ### –í –≤–∏–¥–µ –∏—Å—Ö–æ–¥–Ω–∏–∫–æ–≤
  –°–æ —Å—Ç—Ä–∞—Ü–∏–Ω—ã —Ä–µ–ª–∏–∑–æ–≤ –∏–ª–∏ –∫–∞–∫ –∞—Ä—Ö–∏–≤ –∏–∑ –Ω—É–∂–Ω–æ–π –≤–µ—Ç–∫–∏. –í –≤–µ—Ç–∫–∏ `master` —Å—Ç–∞–±–∏–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è
* ### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –¥–ª—è Unity
  –ö–∞–∫ git –º–æ–¥—É–ª—å `https://github.com/Felid-Force-Studios/StaticEcs.git` –≤ Unity PackageManager –∏–ª–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –≤ `Packages/manifest.json`:


# –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
```csharp
using FFS.Libraries.StaticEcs;
// –û–ø—Ä–µ–¥–µ–ª—è–µ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
public struct Position : IComponent { public Vector3 Val; }
public struct Velocity : IComponent { public float Val; }

// –û–ø—Ä–µ–¥–µ–ª—è–µ–º –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –º–∏—Ä–∞
public struct MyWorldID : IWorldId { }

// –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ç–∏–ø—ã-–∞–ª–∏–∞—Å—ã –¥–ª—è —É–¥–æ–±–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∫ —Ç–∏–ø–∞–º –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
public abstract class MyEsc : Ecs<MyWorldID> { }
public abstract class MyWorld : Ecs<MyWorldID>.World { }

// –û–ø—Ä–µ–¥–µ–ª—è–µ–º –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Å–∏—Å—Ç–µ–º
public struct MySystemsID : ISystemsId { }

// –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ç–∏–ø-–∞–ª–∏–∞—Å –¥–ª—è —É–¥–æ–±–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∫ —Å–∏—Å—Ç–µ–º–∞–º
public abstract class MySystems : Systems<MySystemsID> { }

// –û–ø—Ä–µ–¥–µ–ª–æ—è–µ–º —Å–∏—Å—Ç–µ–º—ã
public readonly struct VelocitySystem : IUpdateSystem {
    public void Update() {
        foreach (var entity in MyWorld.QueryEntities.For<All<Types<Position, Velocity>>>()) {
            entity.RefMut<Position>().Val *= entity.Ref<Velocity>().Val;
        }
    }
}

public class Program {
    public static void Main() {
        // –°–æ–∑–¥–∞–µ–º –¥–∞–Ω–Ω—ã–µ –º–∏—Ä–∞
        MyEsc.Create(EcsConfig.Default());
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—Ä—É–µ–º –º–∏—Ä
        MyEsc.Initialize();
        
        // –°–æ–∑–¥–∞–µ–º —Å–∏—Å—Ç–µ–º—ã
        MySystems.Create();
        MySystems.AddUpdateSystem<VelocitySystem>();

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—Ä—É–µ–º —Å–∏—Å—Ç–µ–º—ã
        MySystems.Initialize();

        // –°–æ–∑–¥–∞–Ω–∏–µ —Å—É—â–Ω–æ—Å—Ç–∏
        var entity = MyEsc.Entity.New(
            new Velocity { Val = 1f },
            new Position { Val = Vector3.One }
        );
        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤—Å–µ—Ö —Å–∏—Å—Ç–µ–º - –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –≤ –∫–∞–∂–¥–æ–º –∫–∞–¥—Ä–µ
        MySystems.Update();
        // –£–Ω–∏—á—Ç–æ–∂–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º
        MySystems.Destroy();
        // –£–Ω–∏—á—Ç–æ–∂–µ–Ω–∏–µ –º–∏—Ä–∞ –∏ –æ—á–∏—Å—Ç–∫–∞ –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö
        MyEsc.Destroy();
    }
}
```

# –ö–æ–Ω—Ü–µ–ø—Ü–∏—è
> - –û—Å–Ω–æ–≤–Ω–∞—è –∏–¥–µ—è –¥–∞–Ω–Ω–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –≤ —Å—Ç–∞—Ç–∏–∫–µ, –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –æ –º–∏—Ä–µ –∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö –∫–ª–∞—Å—Å–∞—Ö, —á—Ç–æ –¥–∞–µ—Ç –≤–æ—Ö–º–æ–∂–Ω–æ—Å—Ç—å –∏–∑–±–µ–≥–∞—Ç—å –¥–æ—Ä–æ–≥–æ—Å—Ç–æ—è—â–∏—Ö –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö –≤—ã–∑–æ–≤–æ–≤, –∏–º–µ—Ç—å —É–¥–æ–±–Ω—ã–π API —Å–æ –º–Ω–æ–∂–µ—Å—Ç–≤–æ–º —Å–∞—Ö–∞—Ä–∞
> - –î–∞–Ω–Ω–Ω—ã–π —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –Ω–∞—Ü–µ–ª–µ–Ω –Ω–∞ –º–∞–∫—Å–º–∞–ª—å–Ω—É—é –ø—Ä–æ—Å—Ç–æ—Ç—É –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è, —Å–∫–æ—Ä–æ—Å—Ç—å –∏ –∫–æ–º—Ñ–æ—Ä—Ç –Ω–∞–ø–∏—Å–∞–Ω–∏—è –∫–æ–¥–∞ –±–µ–∑ –∂–µ—Ä—Ç–≤ –≤ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
> - –î–æ—Å—Ç—É–ø–Ω–æ —Å–æ–∑–¥–∞–Ω–∏–µ –º—É–ª—å—Ç–∏-–º–∏—Ä–æ–≤, —Å—Ç—Ä–æ–≥–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è, –æ–±—à–∏—Ä–Ω—ã–µ –±–µ—Å–ø–ª–∞—Ç–Ω—ã–µ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏
> - –î–æ—Å—Ç—É–ø–Ω–æ —Å–æ–∫—Ä–∞—â–µ–Ω–∏–µ –º–æ–Ω–æ–º–æ—Ä—Ñ–∏–∑–∞—Ü–∏–∏ –¥–∂–µ–Ω–µ—Ä–∏–∫ —Ç–∏–ø–æ–≤ –∏ –º–µ—Ç–æ–¥–æ–≤ –¥–ª—è —É–º–µ–Ω—å—à–µ–Ω–∏—è –∏—Å—Ö–æ–¥–Ω–∏–∫–æ–≤ –∫–æ–¥–∞ –∑–∞ —Å—á–µ—Ç –º–µ—Ö–∞–Ω–∏–∑–º–∞ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ (—Ä–∞–∑–¥–µ–ª –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏)
> - –û—Å–Ω–æ–≤–∞–Ω –Ω–∞ sparse-set –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ, —è–¥—Ä–æ –≤–¥–æ—Ö–Ω–æ–≤–ª–µ–Ω–Ω–æ —Å–µ—Ä–∏–µ–π –±–∏–±–ª–∏–æ—Ç–µ–∫ –æ—Ç Leopotam
> - –§—Ä–µ–π–º–≤–æ—Ä–∫ —Å–æ–∑–¥–∞–Ω –¥–ª—è –Ω—É–∂–¥ —á–∞—Å—Ç–Ω–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ –∏ –≤—ã–ª–æ–∂–µ–Ω –≤ open-source.


# –û—Å–Ω–æ–≤–Ω—ã–µ —Ç–∏–ø—ã:

### Entity
–°—É—â–Ω–æ—Å—Ç—å - —Å–ª—É–∂–∏—Ç –¥–ª—è –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –æ–±—ä–µ–∫—Ç–∞ –≤ –∏–≥—Ä–æ–≤–æ–º –º–∏—Ä–µ –∏ –¥–æ—Å—Ç—É–ø–∞ –∫ –ø—Ä–∏–∫—Ä–µ–ø–ª–µ–Ω–Ω—ã–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º  
 - –ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∞ –≤ –≤–∏–¥–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Ä–∞–∑–º–µ—Ä–æ–º 4 –±–∞–π—Ç

<details><summary><u><b>–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ üëá</b></u></summary>

- –°–æ–∑–¥–∞–Ω–∏–µ:
```csharp
// –°–æ–∑–¥–∞–Ω–∏–µ –≤–æ–∑–º–æ–∂–Ω–æ —Ç–æ–ª—å–∫–æ —Å —É–∫–∞–∑–∞–Ω–∏–µ–º –Ω–∞—á–∞–ª—å–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
// –°–æ–∑–¥–∞–Ω–∏–µ –æ–¥–Ω–æ–π —Å—É—â–Ω–æ—Å—Ç–∏
// –°–ø–æ—Å–æ–± 1 - —Å —É–∫–∞–∑–∞–Ω–∏–µ–º —Ç–∏–ø–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ (–º–µ—Ç–æ–¥—ã –ø–µ—Ä–µ–≥—Ä—É–∑–∫–∏ –æ—Ç 1-5 –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤)
var entity = MyEsc.Entity.New<Position>();
var entity = MyEsc.Entity.New<Position, Velocity, Name>();

// –°–ø–æ—Å–æ–± 2 - —Å —É–∫–∞–∑–∞–Ω–∏–µ–º –∑–Ω–∞—á–µ–Ω–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ (–º–µ—Ç–æ–¥—ã –ø–µ—Ä–µ–≥—Ä—É–∑–∫–∏ –æ—Ç 1-5 –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤)
var entity = MyEsc.Entity.New(new Position(x: 1, y: 1, z: 2));
var entity = MyEsc.Entity.New(
            new Name { Val = "SomeName" },
            new Velocity { Val = 1f },
            new Position { Val = Vector3.One }
);

// –°–æ–∑–¥–∞–Ω–∏–µ –º–Ω–æ–∂–µ—Å—Ç–≤–∞ —Å—É—â–Ω–æ—Å—Ç–µ–π
// –°–ø–æ—Å–æ–± 1 - —Å —É–∫–∞–∑–∞–Ω–∏–µ–º —Ç–∏–ø–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ (–º–µ—Ç–æ–¥—ã –ø–µ—Ä–µ–≥—Ä—É–∑–∫–∏ –æ—Ç 1-5 –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤)
int count = 100;
MyEsc.Entity.NewOnes<Position>(count);

// –°–ø–æ—Å–æ–± 2 - —Å —É–∫–∞–∑–∞–Ω–∏–µ–º —Ç–∏–ø–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ (–º–µ—Ç–æ–¥—ã –ø–µ—Ä–µ–≥—Ä—É–∑–∫–∏ –æ—Ç 1-5 –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤) + –¥–µ–ª–µ–≥–∞—Ç–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –∫–∞–∂–¥–æ–π —Å—É—â–Ω–æ—Å—Ç–∏
int count = 100;
MyEsc.Entity.NewOnes<Position>(count, static entity => {
    // some init logic for each entity
});

// –°–ø–æ—Å–æ–± 3 - —Å —É–∫–∞–∑–∞–Ω–∏–µ–º –∑–Ω–∞—á–µ–Ω–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ (–º–µ—Ç–æ–¥—ã –ø–µ—Ä–µ–≥—Ä—É–∑–∫–∏ –æ—Ç 1-5 –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤)
int count = 100;
MyEsc.Entity.NewOnes(count, new Position(x: 1, y: 1, z: 2));

// –°–ø–æ—Å–æ–± 4 - —Å —É–∫–∞–∑–∞–Ω–∏–µ–º –∑–Ω–∞—á–µ–Ω–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ (–º–µ—Ç–æ–¥—ã –ø–µ—Ä–µ–≥—Ä—É–∑–∫–∏ –æ—Ç 1-5 –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤) + –¥–µ–ª–µ–≥–∞—Ç–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –∫–∞–∂–¥–æ–π —Å—É—â–Ω–æ—Å—Ç–∏
int count = 100;
MyEsc.Entity.NewOnes(count, new Position(x: 1, y: 1, z: 2), static entity => {
    // some init logic for each entity
});
```

- –û—Å–Ω–æ–≤–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏:
```csharp
var entity = MyEsc.Entity.New(
            new Name { Val = "SomeName" },
            new Velocity { Val = 1f },
            new Position { Val = Vector3.One }
);

bool actual = entity.IsActual();         // –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–µ —É–¥–∞–ª–µ–Ω–∞ –ª–∏ —Å—É—â–Ω–æ—Å—Ç—å –≤ –º–∏—Ä–µ
short version = entity.Version();        // –ü–æ–ª—É—á–∏—Ç—å –≤–µ—Ä—Å–∏—é —Å—É—â–Ω–æ—Å—Ç–∏
var clone = entity.Clone();              // –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Å—É—â–Ω–æ—Å—Ç—å –∏ –≤—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, —Ç–µ–≥–∏, –º–∞—Å–∫–∏
entity.Destroy();                        // –£–¥–∞–ª–∏—Ç—å —Å—É—â–Ω–æ—Å—Ç—å –∏ –≤—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, —Ç–µ–≥–∏, –º–∞—Å–∫–∏

var entity2 = MyEsc.Entity.New<Name>();
clone.CopyTo(entity2);                   // –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, —Ç–µ–≥–∏, –º–∞—Å–∫–∏ –≤ —É–∫–∞–∑–∞–Ω–Ω—É—é —Å—É—â–Ω–æ—Å—Ç—å

var entity3 = MyEsc.Entity.New<Name>();
entity2.MoveTo(entity3);                 // –ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ –≤—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –≤ —É–∫–∞–∑–∞–Ω–Ω—É—é —Å—É—â–Ω–æ—Å—Ç—å –∏ —É–¥–∞–ª–∏—Ç—å —Ç–µ–∫—É—â—É—é

PackedEntity packed = entity3.Pack();  // –£–ø–∞–∫–æ–≤–∞—Ç—å —Å—É—â–Ω–æ—Å—Ç—å —Å –º–µ—Ç–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ –≤–µ—Ä—Å–∏–∏ –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏

var str = entity3.ToPrettyString();      // –ü–æ–ª—É—á–∏—Ç—å —Å—Ç—Ä–æ–∫—É —Å–æ –≤—Å–µ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ —Å—É—â–Ω–æ—Å—Ç–∏
```
</details>

### PackedEntity
–£–ø–∞–∫–æ–≤–∞–Ω–∞—è —Å—É—â–Ω–æ—Å—Ç—å - —Ö—Ä–∞–Ω–∏—Ç –º–µ—Ç–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é —Å—É—â–Ω–æ—Å—Ç–∏, —Å–ª—É–∂–∏—Ç –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–π –ø–µ—Ä–µ–¥–∞—á–∏ —Å—É—â–Ω–æ—Å—Ç–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä –≤ —Å–æ–±—ã—Ç–∏—è—Ö, –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö –∏ —Ç–¥)  
> —Å—É—â–Ω–æ—Å—Ç—å —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ id, —É–ø–∞–∫–æ–≤–∞–Ω–∞—è —Å—É—â–Ω–æ—Å—Ç—å —ç—Ç–æ id + version  
> –ø—Ä–æ—Å—Ç–æ –ø–æ id –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Ç–∞ —Å–∞–º–∞—è —ç—Ç–∞ —Å—É—â–Ω–æ—Å—Ç—å —á—Ç–æ —Å–µ–π—á–∞—Å –≤ –º–∏—Ä–µ –ø–æ–¥ —ç—Ç–∏–º –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–º –∏–ª–∏ –Ω–µ—Ç, –º–æ–∂–Ω–æ —Ç–æ–ª—å–∫–æ –≤–º–µ—Å—Ç–µ —Å –≤–µ—Ä—Å–∏–µ–π, –¥–ª—è —ç—Ç–æ–≥–æ —É–ø–∞–∫–æ–≤–∞–Ω–∞—è –≤–µ—Ä—Å–∏—è
 - –ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∞ –≤ –≤–∏–¥–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Ä–∞–∑–º–µ—Ä–æ–º 8 –±–∞–π—Ç

<details><summary><u><b>–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ üëá</b></u></summary>

- –°–æ–∑–¥–∞–Ω–∏–µ:
```csharp
// –°–æ–∑–¥–∞–Ω–∏–µ –≤–æ–∑–º–æ–∂–Ω–æ —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ –Ω–µ–∑–∞–ø–∞–∫–æ–≤–∞–Ω–Ω—É—é —Å—É—â–Ω–æ—Å—Ç—å
PackedEntity packedEntity = entity.Pack();
```
- –û—Å–Ω–æ–≤–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏:
```csharp
PackedEntity packedEntity = entity.Pack();
// –ü–æ–ø—ã—Ç–∞—Ç—å—Å—è —Ä–∞—Å–ø–∞–∫–æ–≤–∞—Ç—å —Å—É—â–Ω–æ—Å—Ç—å –≤ –º–∏—Ä–µ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∫–æ—Ç–æ—Ä–æ–≥–æ —É–∫–∞–∑–∞–Ω —á–µ—Ä–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä —Ç–∏–ø–∞, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç true –µ—Å–ª–∏ —Å—É—â–Ω–æ—Å—Ç—å —É—Å–ø–µ—à–Ω–æ —Ä–∞—Å–ø–∞–∫–æ–≤–∞–Ω–∞, –≤ out —Ä–∞—Å–ø–∞–∫–æ–≤–∞–Ω—è —Å—É—â–Ω–æ—Å—Ç—å
if (packedEntity.TryUnpack<WorldID>(out var unpackedEntity)) {
    // ...
}

PackedEntity packedEntity2 = entity.Pack();
bool equals = packedEntity.Equals(packedEntity2);     // –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç—å —É–ø–∞–≤–∫–æ–≤–∞–Ω–Ω—ã—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π
```
</details>

### Component
–ö–æ–º–ø–æ–Ω–µ–Ω—Ç - –Ω–∞–¥–µ–ª—è–µ—Ç —Å—É—â–Ω–æ—Å—Ç—å —Å–≤–æ–π—Å—Ç–≤–∞–º–∏  
 - C—É—â–Ω–æ—Å—Ç—å –Ω–µ –º–æ–∂–µ—Ç —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å –±–µ–∑ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤, —Ç–∞–∫ –∫–∞–∫ —Å—É—â–Ω–æ—Å—Ç—å –±–µ–∑ –¥–∞–Ω–Ω—ã—Ö —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä
 - –ü—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ —Å—É—â–Ω–æ—Å—Ç—å —É–¥–∞–ª—è–µ—Ç—Å—è
 - –î–∞–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å—Ç—Ä–æ–∏—Ç—å –∑–∞–ø—Ä–æ—Å—ã –ø–æ–∏—Å–∫–∞ —Ç–æ–ª—å–∫–æ –ø–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º
 - –ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω –≤ –≤–∏–¥–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Å –º–∞—Ä–∫–µ—Ä –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º `IComponent`  
 - –ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω –≤ –≤–∏–¥–µ struct –∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ –ø–æ —Å–æ–æ–±—Ä–∞–∂–µ–Ω–∏—è–º –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
–ü—Ä–∏–º–µ—Ä:
```c#
public struct Position : IComponent {
    public Vector3 Value;
}
```

<details><summary><u><b>–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ üëá</b></u></summary>

- –°–æ–∑–¥–∞–Ω–∏–µ:
```c#
// –°–ø–æ—Å–æ–± 1 - –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —Å—É—â–Ω–æ—Å—Ç–∏ (–∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ –º–µ—Ç–æ–¥—É Add())
var entity = MyEsc.Entity.New<Position>();

// –ò–ª–∏ —á–µ—Ä–µ–∑ –∑–Ω–∞—á–µ–Ω–∏–µ  (–∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ –º–µ—Ç–æ–¥—É Put())
// –ù—É–∂–Ω–æ –±—ã—Ç—å –æ—Å—Ç–æ—Ä–æ–∂–Ω—ã–º —Å AutoInit –∏ AutoReset (—Å–º–æ—Ç—Ä–∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏)
var entity = MyEsc.Entity.New(new Position(x: 1, y: 1, z: 2));

// –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –Ω–∞ —Å—É—â–Ω–æ—Å—Ç—å –∏ –≤–æ–∑–≤—Ä–∞—Ç ref –∑–Ω–∞—á–µ–Ω–∏—è –Ω–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç (–≤ DEBUG —Ä–µ–∂–∏–º–µ –±—É–¥–µ—Ç –æ—à–∏–±–∫–∞ –µ—Å–ª–∏ –æ–Ω —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –Ω–∞ —Å—É—â–Ω–æ—Å—Ç–∏)
ref var position = ref entity.Add<Position>();
// –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –Ω–∞ —Å—É—â–Ω–æ—Å—Ç—å (–≤ DEBUG —Ä–µ–∂–∏–º–µ –±—É–¥–µ—Ç –æ—à–∏–±–∫–∞ –µ—Å–ª–∏ –æ–Ω —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –Ω–∞ —Å—É—â–Ω–æ—Å—Ç–∏) (–º–µ—Ç–æ–¥—ã –ø–µ—Ä–µ–≥—Ä—É–∑–∫–∏ –æ—Ç 2-5 –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤)
entity.Add<Position, Velocity>();

// –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –Ω–∞ —Å—É—â–Ω–æ—Å—Ç—å –µ—Å–ª–∏ –µ–≥–æ –µ—â–µ –Ω–µ—Ç, –∏–Ω–∞—á–µ –≤–æ–∑–≤—Ä–∞—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ
ref var position = ref entity.TryAdd<Position>();
ref var position = ref entity.TryAdd<Position>(out bool added); // –ø–µ—Ä–µ–≥—Ä—É–∑–∫–∞ –≥–¥–µ added = true –µ—Å–ª–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –Ω–æ–≤—ã–π, false –µ—Å–ª–∏ –≤–µ—Ä–Ω—É–ª—Å—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π
// –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –Ω–∞ —Å—É—â–Ω–æ—Å—Ç—å –µ—Å–ª–∏ –µ–≥–æ –µ—â–µ –Ω–µ—Ç (–º–µ—Ç–æ–¥—ã –ø–µ—Ä–µ–≥—Ä—É–∑–∫–∏ –æ—Ç 2-5 –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤)
entity.TryAdd<Position, Velocity>();
entity.TryAdd<Position, Velocity>(out bool added); // –ø–µ—Ä–µ–≥—Ä—É–∑–∫–∞ –≥–¥–µ added = true –µ—Å–ª–∏ —Ö–æ—Ç—è –±—ã 1 –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –Ω–æ–≤—ã–π, false –≤—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–ª–∏ —Ä–∞–Ω–µ–µ

// –ü–æ–º–µ—â–µ–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ —á–µ—Ä–µ–∑ –∑–Ω–∞—á–µ–Ω–∏–µ. (–º–µ—Ç–æ–¥—ã –ø–µ—Ä–µ–≥—Ä—É–∑–∫–∏ –æ—Ç 1-5 –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤)
// –ï—Å–ª–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç —Ç–æ –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –±—É–¥—É—Ç –∑–∞–º–µ–Ω–µ–Ω—ã, –µ—Å–ª–∏ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç —Ç–æ —Å–æ–∑–¥–∞–Ω —Å –ø–µ—Ä–µ–¥–∞–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
// –ù—É–∂–Ω–æ –±—ã—Ç—å –æ—Å—Ç–æ—Ä–æ–∂–Ω—ã–º —Å AutoInit –∏ AutoReset (—Å–º–æ—Ç—Ä–∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏)
entity.Put(new Position(x: 1, y: 1, z: 2));
```
- –û—Å–Ω–æ–≤–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏:
```c#
var entity = MyEsc.Entity.New(
            new Name { Val = "Player" },
            new Velocity { Val = 1f },
            new Position { Val = Vector3.One }
);
 // –ü–æ–ª—É—á–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –Ω–∞ —Å—É—â–Ω–æ—Å—Ç–∏
int componentsCount = entity.ComponentsCount();

// –ü–æ–ª—É—á–∏—Ç—å ref —Å—Å—ã–ª–∫—É –Ω–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –Ω–∞ —á—Ç–µ–Ω–∏–µ\–∑–∞–ø–∏—Å—å
ref var velocity = ref entity.RefMut<Velocity>();
velocity.Val++;

// –ü–æ–ª—É—á–∏—Ç—å ref —Å—Å—ã–ª–∫—É –Ω–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Ç–æ–ª—å–∫–æ –Ω–∞ —á—Ç–µ–Ω–∏–µ
ref readonly var readOnlyVelocity = ref entity.Ref<Velocity>();
//readOnlyVelocity.Value++;  -   ERROR

// –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ –í–°–ï–• —É–∫–∞–∑–∞–Ω–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ (–º–µ—Ç–æ–¥—ã –ø–µ—Ä–µ–≥—Ä—É–∑–∫–∏ –æ—Ç 1-3 –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤)
entity.HasAllOf<Position>();
entity.HasAllOf<Position, Velocity, Name>();

// –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ —Ö–æ—Ç—è –±—ã –æ–¥–Ω–æ–≥–æ —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ (–º–µ—Ç–æ–¥—ã –ø–µ—Ä–µ–≥—Ä—É–∑–∫–∏ –æ—Ç 2-3 –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤)
entity.HasAnyOf<Position, Name>();
entity.HasAnyOf<Position, Velocity, Name>();

// –£–¥–∞–ª–∏—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —É —Å—É—â–Ω–æ—Å—Ç–∏ (–º–µ—Ç–æ–¥—ã –ø–µ—Ä–µ–≥—Ä—É–∑–∫–∏ –æ—Ç 1-5 –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤)
bool deleted = entity.Delete<Position>();  // deleted = true –µ—Å–ª–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –±—ã–ª —É–¥–∞–ª–µ–Ω, false –µ—Å–ª–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –Ω–µ –±—ã–ª–æ –∏–∑–Ω–∞—á–∞–ª—å–Ω–æ
bool deleted = entity.Delete<Position, Velocity, Name>();  // deleted = true –µ—Å–ª–∏ –í–°–ï –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –±—ã–ª —É–¥–∞–ª–µ–Ω—ã, false –µ—Å–ª–∏ —Ö–æ—Ç—è –±—ã 1 –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –Ω–µ –±—ã–ª–æ –∏–∑–Ω–∞—á–∞–ª—å–Ω–æ

var entity2 = MyEsc.Entity.New<Name>();
// –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —É–∫–∞–∑–∞–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –Ω–∞ –¥—Ä—É–≥—É—é —Å—É—â–Ω–æ—Å—Ç—å (–º–µ—Ç–æ–¥—ã –ø–µ—Ä–µ–≥—Ä—É–∑–∫–∏ –æ—Ç 1-5 –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤)
entity.CopyComponentsTo<Position, Velocity>(entity2);
```
</details>

### Tag
–¢–µ–≥ - –∞–Ω–∞–ª–æ–≥–∏—á–µ–Ω –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—É, –Ω–æ –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –Ω–∏–∫–∞–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö, —Å–ª—É–∂–∏—Ç –¥–ª—è –º–∞—Ä–∫–∏—Ä–æ–≤–∫–∏ —Å—É—â–Ω–æ—Å—Ç–∏  
 - –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ, –Ω–µ —Ö—Ä–∞–Ω–∏—Ç –º–∞—Å—Å–∏–≤—ã –¥–∞–Ω–Ω—ã—Ö, –Ω–µ –∑–∞–º–µ–¥–ª—è–µ—Ç –ø–æ–∏—Å–∫ –ø–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º, –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –º–Ω–æ–∂–µ—Å—Ç–≤–æ —Ç–µ–≥–æ–≤
 - –ü—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞, –¢–µ–≥–∏ –Ω–µ —É—á–∏—Ç—ã–≤–∞—é—Ç—Å—è –∏ —Å—É—â–Ω–æ—Å—Ç—å —É–¥–∞–ª—è–µ—Ç—Å—è
 - –î–∞–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å—Ç—Ä–æ–∏—Ç—å –∑–∞–ø—Ä–æ—Å—ã –ø–æ–∏—Å–∫–∞ —Ç–æ–ª—å–∫–æ –ø–æ —Ç–µ–≥–∞–º
 - –ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω –≤ –≤–∏–¥–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –±–µ–∑ –¥–∞–Ω–Ω—ã—Ö —Å –º–∞—Ä–∫–µ—Ä –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º `ITag`

–ü—Ä–∏–º–µ—Ä:
```c#
public struct Unit : ITag { }
```

<details><summary><u><b>–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ üëá</b></u></summary>

- –°–æ–∑–¥–∞–Ω–∏–µ:
```c#
// –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–µ–≥–∞ –Ω–∞ —Å—É—â–Ω–æ—Å—Ç—å (–≤ DEBUG —Ä–µ–∂–∏–º–µ –±—É–¥–µ—Ç –æ—à–∏–±–∫–∞ –µ—Å–ª–∏ –æ–Ω —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –Ω–∞ —Å—É—â–Ω–æ—Å—Ç–∏) (–º–µ—Ç–æ–¥—ã –ø–µ—Ä–µ–≥—Ä—É–∑–∫–∏ –æ—Ç 1-5 —Ç–µ–≥–æ–≤)
entity.AddTag<Unit, Player>();

// –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–µ–≥–∞ –Ω–∞ —Å—É—â–Ω–æ—Å—Ç—å –µ—Å–ª–∏ –µ–≥–æ –µ—â–µ –Ω–µ—Ç
entity.TryAddTag<Unit>();
entity.TryAddTag<Unit>(out bool added); // –ø–µ—Ä–µ–≥—Ä—É–∑–∫–∞ –≥–¥–µ added = true –µ—Å–ª–∏ —Ç–µ–≥ –Ω–æ–≤—ã–π
```
- –û—Å–Ω–æ–≤–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏:
```c#
 // –ü–æ–ª—É—á–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–µ–≥–æ–≤ –Ω–∞ —Å—É—â–Ω–æ—Å—Ç–∏
int tagsCount = entity.TagsCount();

// –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ –í–°–ï–• —Ç–µ–≥–æ–≤ (–º–µ—Ç–æ–¥—ã –ø–µ—Ä–µ–≥—Ä—É–∑–∫–∏ –æ—Ç 1-3 —Ç–µ–≥–æ–≤)
entity.HasAllOfTags<Unit>();
entity.HasAllOfTags<Unit, Player>();

// –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ —Ö–æ—Ç—è –±—ã –æ–¥–Ω–æ–≥–æ —Ç–µ–≥–∞ (–º–µ—Ç–æ–¥—ã –ø–µ—Ä–µ–≥—Ä—É–∑–∫–∏ –æ—Ç 2-3 —Ç–µ–≥–æ–≤)
entity.HasAnyOfTags<Unit, Player>();

// –£–¥–∞–ª–∏—Ç—å —Ç–µ–≥ —É —Å—É—â–Ω–æ—Å—Ç–∏ (–º–µ—Ç–æ–¥—ã –ø–µ—Ä–µ–≥—Ä—É–∑–∫–∏ –æ—Ç 1-5 —Ç–µ–≥–æ–≤)
bool deleted = entity.DeleteTag<Unit>();  // deleted = true –µ—Å–ª–∏ —Ç–µ–≥ –±—ã–ª —É–¥–∞–ª–µ–Ω, false –µ—Å–ª–∏ —Ç–µ–≥–∞ –Ω–µ –±—ã–ª–æ –∏–∑–Ω–∞—á–∞–ª—å–Ω–æ
bool deleted = entity.DeleteTag<Unit, Player>();  // deleted = true –µ—Å–ª–∏ –í–°–ï —Ç–µ–≥–∏ –±—ã–ª —É–¥–∞–ª–µ–Ω—ã, false –µ—Å–ª–∏ —Ö–æ—Ç—è –±—ã 1 —Ç–µ–≥–∞ –Ω–µ –±—ã–ª–æ –∏–∑–Ω–∞—á–∞–ª—å–Ω–æ
```
</details>

### Mask
–ú–∞—Å–∫–∞ - –∞–Ω–∞–ª–æ–≥–∏—á–Ω–∞ —Ç–µ–≥—É, –Ω–æ –∑–∞–Ω–∏–º–∞–µ—Ç –ª–∏—à—å 1 –±–∏—Ç –ø–∞–º—è—Ç–∏
- –ü—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞, –ú–∞—Å–∫–∏ –∫–∞–∫ –∏ –¢–µ–≥–∏ –Ω–µ —É—á–∏—Ç—ã–≤–∞—é—Ç—Å—è –∏ —Å—É—â–Ω–æ—Å—Ç—å —É–¥–∞–ª—è–µ—Ç—Å—è
- –ù–ï –î–∞–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å—Ç—Ä–æ–∏—Ç—å –∑–∞–ø—Ä–æ—Å—ã —Ç–æ–ª—å–∫–æ –ø–æ –º–∞—Å–∫–∞–º, –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è —Ç–æ–ª—å–∫–æ –∫–∞–∫ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –∫—Ä–∏—Ç–µ—Ä–∏–π –ø–æ–∏—Å–∫–∞
- –ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω –≤ –≤–∏–¥–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –±–µ–∑ –¥–∞–Ω–Ω—ã—Ö —Å –º–∞—Ä–∫–µ—Ä –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º `IMask`

–ü—Ä–∏–º–µ—Ä:
```c#
public struct Visible : IMask { }
```

<details><summary><u><b>–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ üëá</b></u></summary>

- –°–æ–∑–¥–∞–Ω–∏–µ:
```c#
// –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –º–∞—Å–∫–∏ –Ω–∞ —Å—É—â–Ω–æ—Å—Ç—å (–º–µ—Ç–æ–¥—ã –ø–µ—Ä–µ–≥—Ä—É–∑–∫–∏ –æ—Ç 1-5 –º–∞—Å–æ–∫)
entity.SetMask<Flammable, Frozen, Visible>();
```
- –û—Å–Ω–æ–≤–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏:
```c#
// –ü–æ–ª—É—á–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–∞—Å–æ–∫ –Ω–∞ —Å—É—â–Ω–æ—Å—Ç–∏
int masksCount = entity.MasksCount();

// –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ –í–°–ï–• –º–∞—Å–æ–∫ (–º–µ—Ç–æ–¥—ã –ø–µ—Ä–µ–≥—Ä—É–∑–∫–∏ –æ—Ç 1-3 –º–∞—Å–æ–∫)
entity.HasAllOfMasks<Flammable>();
entity.HasAllOfMasks<Flammable, Frozen, Visible>();

// –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ —Ö–æ—Ç—è –±—ã –æ–¥–Ω–æ–π –º–∞—Å–∫–∏ (–º–µ—Ç–æ–¥—ã –ø–µ—Ä–µ–≥—Ä—É–∑–∫–∏ –æ—Ç 2-3 –º–∞—Å–æ–∫)
entity.HasAnyOfMasks<Flammable, Frozen, Visible>();

// –£–¥–∞–ª–∏—Ç—å –º–∞—Å–∫—É —É —Å—É—â–Ω–æ—Å—Ç–∏ (–º–µ—Ç–æ–¥—ã –ø–µ—Ä–µ–≥—Ä—É–∑–∫–∏ –æ—Ç 1-5 –º–∞—Å–æ–∫)
entity.DeleteMask<Frozen>();
```
</details>

### WorldId
–¢–∏–ø-—Ç–µ–≥-–∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –º–∏—Ä–∞, —Å–ª—É–∂–∏—Ç –¥–ª—è –∏–∑–æ–ª—è—Ü–∏–∏ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —Ä–∞–∑–Ω—ã—Ö –º–∏—Ä–æ–≤ –≤ –æ–¥–Ω–æ–º –ø—Ä–æ—Ü–µ—Å—Å–µ
- –ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω –≤ –≤–∏–¥–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –±–µ–∑ –¥–∞–Ω–Ω—ã—Ö —Å –º–∞—Ä–∫–µ—Ä –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º `IWorldId` 

–ü—Ä–∏–º–µ—Ä:
```c#
public struct MainWorldId : IWorldId { }
public struct MiniGameWorldId : IWorldId { }
```

### Ecs
–¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –≤ –±–∏–±–ª–∏–æ—Ç–µ–∫—É, –æ—Ç–≤–µ—á–∞—é—â–∞—è –∑–∞ –¥–æ—Å—Ç—É–ø, —Å–æ–∑–¥–∞–Ω–∏–µ, –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é, —Ä–∞–±–æ—Ç—É –∏ —É–Ω–∏—á—Ç–æ–∂–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –º–∏—Ä–∞
- –ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω –≤ –≤–∏–¥–µ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∫–ª–∞—Å—Å–∞ `Ecs<T>` –ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ `IWorldId`
> –í–ê–ñ–ù–û! –¢–∞–∫ –∫–∞–∫ —Ç–∏–ø- –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä `IWorldId` –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –¥–æ—Å—Ç—É–ø –∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º—É –º–∏—Ä—É  
> –ï—Å—Ç—å —Ç—Ä–∏ —Å–ø–æ—Å–æ–±–∞ —Ä–∞–±–æ—Ç—ã —Å –±–∏–±–ª–∏–æ—Ç–µ–∫–æ–π:  

–ü–µ—Ä–≤—ã–π —Å–ø–æ—Å–æ–± - –∫–∞–∫ –µ—Å—Ç—å —á–µ—Ä–µ–∑ –ø–æ–ª–Ω–æ–µ –æ–±—Ä–∞—â–µ–Ω–∏–µ (–æ—á–µ–Ω—å –Ω–µ—É–¥–æ–±–Ω–æ):
```c#
public struct MainWorldId : IWorldId { }

Ecs<MainWorldId>.Create(EcsConfig.Default());
Ecs<MainWorldId>.World.GetEntitiesCount();

var entity = Ecs<MainWorldId>.Entity.New<Position>();
```

–í—Ç–æ—Ä–æ–π —Å–ø–æ—Å–æ–± - —á—É—Ç—å –±–æ–ª–µ–µ —É–¥–æ–±–Ω—ã–π, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –∏–º–ø–æ—Ä—Ç—ã –∏–ª–∏ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –∞–ª–∏–∞—Å—ã (–ø—Ä–∏–¥–µ—Ç—Å—è –ø–∏—Å–∞—Ç—å –≤ –∫–∞–∂–¥–æ–º —Ñ–∞–π–ª–µ)
```c#
using static FFS.Libraries.StaticEcs.Ecs<MainWorldId>;

public struct MainWorldId : IWorldId { }

Create(EcsConfig.Default());
World.GetEntitiesCount();

var entity = Entity.New<Position>();
```

–¢—Ä–µ–π—Ç–∏–π —Å–ø–æ—Å–æ–± - —Å–∞–º—ã–π —É–¥–æ–±–Ω—ã–π, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–∏–ø—ã-–∞–ª–∏–∞—Å—ã –≤ –∫–æ—Ä–Ω–µ–≤–æ–º –Ω–µ–π–º—Å–ø–µ–π—Å–µ (–Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è –ø–∏—Å–∞—Ç—å –≤ –∫–∞–∂–¥–æ–º —Ñ–∞–π–ª–µ)  
–í–µ–∑–¥–µ –≤ –ø—Ä–∏–º–µ—Ä–∞—Ö –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω –∏–º–µ–Ω–Ω–æ —ç—Ç–æ—Ç —Å–ø–æ—Å–æ–±
```c#
public struct MainWorldId : IWorldId { }

public abstract class MyEsc : Ecs<MainWorldId> { }
public abstract class MyWorld : Ecs<MainWorldId>.World { }

MyEsc.Create(EcsConfig.Default());
MyWorld.GetEntitiesCount();

var entity = MyEsc.Entity.New<Position>();
```

<details><summary><u><b>–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ üëá</b></u></summary>

```c#
// –û–ø—Ä–µ–¥–µ–ª—è–µ–º ID –º–∏—Ä–∞
public struct MainWorldId : IWorldId { }

// –†–µ–≥–µ—Å—Ç—Ä–∏—Ä—É–µ–º —Ç–∏–ø—ã - –∞–ª–∏–∞—Å—ã
public abstract class MyEsc : Ecs<MainWorldId> { }
public abstract class MyWorld : Ecs<MainWorldId>.World { }

// –°–æ–∑–¥–∞–Ω–∏–µ –º–∏—Ä–∞ —Å –¥–µ—Ñ–æ–ª—Ç–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ
MyEsc.Create(EcsConfig.Default());
// –ò–ª–∏ –∫–∞—Å—Ç–æ–º–Ω–æ–π
MyEsc.Create(new() {
            BaseEntitiesCount = 256,        // –ë–∞–∑–æ–≤—ã–π —Ä–∞–∑–º–µ—Ä –º–∞—Å—Å–∏–≤–∞ —Å—É—â–Ω–æ—Å—Ç–µ–π –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏—è –º–∏—Ä–∞
            BaseDeletedEntitiesCount = 256, // –ë–∞–∑–æ–≤—ã–π —Ä–∞–∑–º–µ—Ä –º–∞—Å—Å–∏–≤–∞ —É–¥–∞–ª–µ–Ω–Ω—ã—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏—è –º–∏—Ä–∞
            BaseComponentTypesCount = 64    // –ë–∞–∑–æ–≤—ã–π —Ä–∞–∑–º–µ—Ä –≤—Å–µ—Ö —Ä–∞–∑–Ω–æ–≤–∏–¥–Ω–æ—Å—Ç–µ–π —Ç–∏–ø–æ–≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—É–ª–æ–≤ –ø–æ–¥ –∫–∞–∂–¥—ã–π —Ç–∏–ø)
            BaseMaskTypesCount = 64,        // –ë–∞–∑–æ–≤—ã–π —Ä–∞–∑–º–µ—Ä –≤—Å–µ—Ö —Ä–∞–∑–Ω–æ–≤–∏–¥–Ω–æ—Å—Ç–µ–π —Ç–∏–ø–æ–≤ –º–∞—Å–æ–∫ (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—É–ª–æ–≤ –ø–æ–¥ –∫–∞–∂–¥—ã–π —Ç–∏–ø)
            BaseTagTypesCount = 64,         // –ë–∞–∑–æ–≤—ã–π —Ä–∞–∑–º–µ—Ä –≤—Å–µ—Ö —Ä–∞–∑–Ω–æ–≤–∏–¥–Ω–æ—Å—Ç–µ–π —Ç–∏–ø–æ–≤ —Ç–µ–≥–æ–≤ (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—É–ª–æ–≤ –ø–æ–¥ –∫–∞–∂–¥—ã–π —Ç–∏–ø)
            BaseComponentPoolCount = 128,   // –ë–∞–∑–æ–≤—ã–π —Ä–∞–∑–º–µ—Ä –º–∞—Å—Å–∏–≤–∞ –¥–∞–Ω–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –æ–ø—Ä–µ–¥–µ–ª–Ω–Ω–æ–≥–æ —Ç–∏–ø–∞ (–º–æ–∂–µ—Ç –±—ã—Ç—å –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–Ω–Ω–æ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ç–∏–ø–∞ –ø—Ä–∏ —è–≤–Ω–æ–π —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏)
            BaseTagPoolCount = 128,         // –ë–∞–∑–æ–≤—ã–π —Ä–∞–∑–º–µ—Ä –º–∞—Å—Å–∏–≤–∞ —Ç–µ–≥–æ–≤ –æ–ø—Ä–µ–¥–µ–ª–Ω–Ω–æ–≥–æ —Ç–∏–ø–∞ (–º–æ–∂–µ—Ç –±—ã—Ç—å –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–Ω–Ω–æ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ç–∏–ø–∞ –ø—Ä–∏ —è–≤–Ω–æ–π —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏)
        });

MyWorld.         // –î–æ—Å—Ç—É–ø –∫ –º–∏—Ä—É –¥–ª—è MainWorldId (ID –º–∏—Ä–∞)
MyEsc.Entity.    // –î–æ—Å—Ç—É–ø –∫ —Å—É—â–Ω–æ—Å—Ç–∏ –¥–ª—è MainWorldId (ID –º–∏—Ä–∞)
MyEsc.Context.   // –î–æ—Å—Ç—É–ø –∫ –∫–æ–Ω—Ç–µ–∫—Å—Ç—É –¥–ª—è MainWorldId (ID –º–∏—Ä–∞)
MyEsc.Components.// –î–æ—Å—Ç—É–ø –∫ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º –¥–ª—è MainWorldId (ID –º–∏—Ä–∞)
MyEsc.Tags.      // –î–æ—Å—Ç—É–ø –∫ —Ç–µ–≥–∞–º –¥–ª—è MainWorldId (ID –º–∏—Ä–∞)
MyEsc.Masks.     // –î–æ—Å—Ç—É–ø –∫ –º–∞—Å–∫–∞–º –¥–ª—è MainWorldId (ID –º–∏—Ä–∞)

// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –º–∏—Ä–∞
MyEsc.Initialize();

// –£–Ω–∏—á—Ç–æ–∂–µ–Ω–∏–µ –∏ –æ—á–∏—Å—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö –º–∏—Ä–∞
MyEsc.Destroy();

```
</details>

### World
–ú–∏—Ä, —Å–æ–¥–µ—Ä–∂–∏—Ç –º–µ—Ç–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é —Å—É—â–Ω–æ—Å—Ç–µ–π, –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç –∏ –º–µ–Ω–µ–¥–∂–∏—Ä—É—é—Ç —Å–æ–∑–¥–∞–Ω–∏–µ –∏ —É–¥–∞–ª–µ–Ω–∏–µ —Å—É—â–Ω–æ—Å—Ç–µ–π
- –ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω –≤ –≤–∏–¥–µ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∫–ª–∞—Å—Å–∞ `Ecs<IWorldId>.World`

<details><summary><u><b>–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ üëá</b></u></summary>

- –°–æ–∑–¥–∞–Ω–∏–µ:
```c#
// –°–æ–∑–¥–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –≤—ã–∑–æ–≤–µ
MyEsc.Create(config);

// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –≤—ã–∑–æ–≤–µ
MyEsc.Initialize();
```
- –û—Å–Ω–æ–≤–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏:
```c#
// –Ø–≤–Ω–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Ç–∏–ø–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ (–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏ –ª–µ–Ω–∏–≤–æ)
// –ú–æ–∂–µ—Ç –±—ã—Ç—å –ø–æ–ª–µ–∑–æ–Ω–æ –ø—Ä–∏ NativeAot
// –¢–∞–∫–∂–µ –¥–ª—è —É–∫–∞–∑–∞–Ω–∏—è –±–∞–∑–æ–≤–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞ –º–∞—Å—Å–∏–≤–∞ –¥–∞–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ —ç—Ç–æ–≥–æ —Ç–∏–ø–∞
// –¢–∞–∫–∂–µ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∞ —Ç–∏–ø–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ (—Ä–∞–∑–¥–µ–ª –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏)
var positionComponentId = MyWorld.RegisterComponent<Position>(256);

// –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ RegisterComponent –Ω–æ –¥–ª—è —Ç–µ–≥–æ–≤
var unitTagId = MyWorld.RegisterTag<Unit>(256);

// –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ RegisterComponent –Ω–æ –¥–ª—è –º–∞—Å–æ–∫
var visibleMaskId = MyWorld.RegisterMask<Visible>();

// true –µ—Å–ª–∏ –º–∏—Ä –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω
bool initialized = MyWorld.IsInitialized();

// –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞–∫—Ç–∏–≤–Ω—ã—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π –≤ –º–∏—Ä–µ
int entitiesCount = MyWorld.EntitiesCount();

// —Ç–µ–∫—É—â–∞—è –µ–º–∫–æ—Å—Ç—å –º–∞—Å—Å–∏–≤–∞ –¥–ª—è —Å—É—â–Ω–æ—Å—Ç–µ–π
int entitiesCapacity = MyWorld.EntitiesCapacity();

// –≤–µ—Ä—Å–∏—è —Å—É—â–Ω–æ—Å—Ç–∏
short entityVersion = MyWorld.EntityVersion(entity);

// –£–¥–∞–ª–∏—Ç—å —Å—É—â–Ω–æ—Å—Ç—å –∏ –≤—Å–µ –µ–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã - –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ entity.Destroy();
MyWorld.DeleteEntity(entity);

// –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ç–µ–≥–∏ –∏ –º–∞—Å–∫–∏ —Å –æ–¥–Ω–æ–π —Å—É—â–Ω–æ—Å—Ç–∏ –Ω–∞ –¥—Ä—É–≥—É—é - –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ entitySrc.CopyTo(entityTarget);
MyWorld.CopyEntityData(entitySrc, entityTarget);

// –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Å—É—â–Ω–æ—Å—Ç—å –∏ –≤—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ç–µ–≥–∏ –∏ –º–∞—Å–∫–∏ - –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ entity.Clone();
var clone = MyWorld.CloneEntity(entity);

// –ü–æ–ª—É—á–∏—Ç—å —Å—Ç—Ä–æ–∫—É —Å–æ –≤—Å–µ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ —Å—É—â–Ω–æ—Å—Ç–∏ - –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ entity.ToPrettyStringEntity();
var str = MyWorld.ToPrettyStringEntity(entity);

```
</details>

### SystemsId
–¢–∏–ø-—Ç–µ–≥-–∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Å–∏—Å—Ç–µ–º, —Å–ª—É–∂–∏—Ç –¥–ª—è –∏–∑–æ–ª—è—Ü–∏–∏ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –≥—Ä—É–ø–ø —Å–∏—Å—Ç–µ–º –≤ –æ–¥–Ω–æ–º –ø—Ä–æ—Ü–µ—Å—Å–µ
- –ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω –≤ –≤–∏–¥–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –±–µ–∑ –¥–∞–Ω–Ω—ã—Ö —Å –º–∞—Ä–∫–µ—Ä –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º `ISystemsId`

–ü—Ä–∏–º–µ—Ä:
```c#
public struct BaseSystemsId : ISystemsId { }
public struct FixedSystemsId : ISystemsId { }
public struct LateSystemsId : ISystemsId { }
```

### Systems
–°–∏—Å—Ç–µ–º—ã, –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç –∏ –º–µ–Ω–µ–¥–∂–∏—Ä—É—é—Ç —Å–æ–∑–¥–∞–Ω–∏–µ –∏ –∑–∞–ø—É—Å–∫ —Å–∏—Å—Ç–µ–º
- –ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω –≤ –≤–∏–¥–µ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∫–ª–∞—Å—Å–∞ `Systems<ISystemsId>`

<details><summary><u><b>–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ üëá</b></u></summary>

```c#
// –°–∏—Å—Ç–µ–º—ã —Å—É—â–µ—Å—Ç–≤—É—é—Ç 3 –≤–∏–¥–æ–≤ –∏ –º–æ–≥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –≤–æ –≤—Å–µ—Ö –∫–æ–º–±–∏–Ω–∞—Ü–∏—è—Ö –≤–º–µ—Å—Ç–µ –∏–ª–∏ –æ—Ç–¥–µ–ª—å–Ω–æ

// –°–∏—Å—Ç–µ–º–∞ IInitSystem - –º–µ—Ç–æ–¥ Init() –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑ –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ MySystems.Initialize()
// –ü—Ä–∏–º–µ—Ä:
public struct SomeInitSystem : IInitSystem {
    public void Init() { }
}

// –°–∏—Å—Ç–µ–º–∞ IUpdateSystem  - –º–µ—Ç–æ–¥ Update() –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∫–∞–∂–¥—ã–π —Ä–∞–∑ –ø—Ä–∏ –≤—ã–∑–æ–≤–µ MySystems.Update();
// –ü—Ä–∏–º–µ—Ä:
public struct SomeUpdateSystem : IUpdateSystem {
    public void Update() { }
}

// –°–∏—Å—Ç–µ–º–∞ IDestroySystem - –º–µ—Ç–æ–¥ Destroy() –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑ –ø—Ä–∏ –≤—ã–∑–æ–≤–µ MySystems.Destroy();
// –ü—Ä–∏–º–µ—Ä:
public struct SomeDestroySystem : IDestroySystem {
    public void Destroy() { }
}

 // –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞
 public struct SomeInitDestroySystem : IInitSystem, IDestroySystem {
     public void Init() { }
     public void Destroy() { }
 }

 // –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞
 public struct SomeComboSystem : IInitSystem, IUpdateSystem, IDestroySystem {
     public void Init() { }
     public void Update() { }
     public void Destroy() { }
 }
```

- –°–æ–∑–¥–∞–Ω–∏–µ –∏ –æ–ø–µ—Ä–∞—Ü–∏–∏:
```c#
// –û–ø—Ä–µ–¥–µ–ª—è–µ–º –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Å–∏—Å—Ç–µ–º
public struct MySystemsID : ISystemsId { }

// –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ç–∏–ø-–∞–ª–∏–∞—Å –¥–ª—è —É–¥–æ–±–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∫ —Å–∏—Å—Ç–µ–º–∞–º
public abstract class MySystems : Systems<MySystemsID> { }

// –ó–¥–µ—Å—å –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω–Ω—ã —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–ª—è —Å–∏—Å—Ç–µ–º
MySystems.Create();

// –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã –ù–ï —Ä–µ–∞–ª–∏–∑—É—é—â–µ–π IUpdateSystem, —Ç–æ –µ—Å—Ç—å Init –∏\–∏–ª–∏ Destroy —Å–∏—Å—Ç–µ–º—ã
MySystems.AddCallOnceSystem<SomeInitSystem>();
MySystems.AddCallOnceSystem<SomeDestroySystem>();
MySystems.AddCallOnceSystem<SomeInitDestroySystem>();

// –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã —Ä–µ–∞–ª–∏–∑—É—é—â–µ–π IUpdateSystem, —Å –Ω–∞–ª–∏—á–∏–µ–º –ª—é–±—ã—Ö –∏–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü–∏–π —Ç–∞–∫–∏—Ö –∫–∞–∫ Init –∏–ª–∏ Destroy
MySystems.AddUpdateSystem<SomeComboSystem>();

// –í–∞–∂–Ω–æ! –°–∏—Å—Ç–µ–º—ã –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è –≤ —Ç–æ–º –ø–æ—Ä—è–¥–∫–µ –≤ –∫–æ—Ç–æ—Ä–æ–º –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã
// —ç—Ç–æ –∑–Ω–∞—á–∏—Ç —á—Ç–æ —Å–Ω–∞—á–∞–ª–∞ –±—É–¥—É—Ç –∑–∞–ø—É—â–µ–Ω—ã –≤—Å–µ Init —Å–∏—Å—Ç–µ–º—ã –≤ —Ç–æ–º –ø–æ—Ä—è–¥–∫–µ –≤ –∫–æ—Ç–æ—Ä–æ–º –¥–æ–±–∞–≤–ª–µ–Ω—ã
// –∑–∞—Ç–µ–º –≤ –∏–≥—Ä–æ–≤–æ–º —Ü–∏–∫–ª–µ –±—É–¥—É—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –ø–æ –ø–æ—Ä—è–¥–∫—É –≤—Å–µ Update —Å–∏—Å—Ç–µ–º—ã
// –∑–∞—Ç–µ–º –ø–æ –ø–æ—Ä—è–¥–∫—É –≤—ã–∑–æ–≤—É—Ç—Å—è –≤—Å–µ —Å–∏—Å—Ç–µ–º—ã —Ç–∏–ø–∞ Destroy –ø—Ä–∏ —É–Ω–∏—á—Ç–æ–∂–µ–Ω–∏–∏ –º–∏—Ä–∞

// –í–∞–∂–Ω–æ! –°–∏—Å—Ç–µ–º—ã –º–æ–≥—É—Ç –±—ã—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä–∞–º–∏ –∏–ª–∏ –∫–ª–∞—Å—Å–∞–º–∏ —Å –ø—É—Å—Ç—ã–º –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–æ–º, –∏ –Ω–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É—é—Ç—Å—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º 
// (–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä –º–æ–∂–µ—Ç —Å—É—â–µ—Å—Ç–≤–µ–Ω–Ω–æ —É–≤–µ–ª–∏—á–∏—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –¥–ª—è –Ω–µ–±–æ–ª—å—à–∏—Ö —Å–∏—Å—Ç–µ–º)
// –û–Ω–∏ –±—É–¥—É—Ç —Å–æ–∑–¥–∞–Ω—ã –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –∏ –≤—Å–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –ø–æ–ª—É—á–µ–Ω—ã –∏–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ (Ecs.Context) –∏–ª–∏ –ø—Ä–æ–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã —Å –ø–æ–º–æ—â—å—é IInitSystem –º–µ—Ç–æ–¥–∞ Init()

// –í—Å–µ —ç—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–¥–∫–ª—é—á–∞—Ç—å —Å–∏—Å—Ç–µ–º—ã –ø–∞—á–∫–∞–º–∏ —á—Ç–æ –º–æ–∂–µ—Ç —Å—É—â–µ—Å—Ç–≤–µ–Ω–Ω–æ —É–≤–µ–ª–∏—á–∏—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
// A —Ç–∞–∫–∂–µ –ø–æ–∑–≤–æ–ª—è–µ—Ç –¥–µ–ª–∞—Ç—å —Å–∏—Å—Ç–µ–º—ã –±–æ–ª–µ–µ –∞—Ç–æ–º–∞—Ä–Ω—ã–º–∏ (–Ω–µ–±–æ–ª—å—à–∏–º–∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º–∏ –±–ª–æ–∫–∞–º–∏)

// –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –±–∞—Ç—á–∞ —Å–∏—Å—Ç–µ–º, –∫–∞–∂–¥–∞—è —Å–∏—Å—Ç–µ–º–∞ –º–æ–∂–µ—Ç —Ä–µ–∞–ª–∏–∑–æ–≤—ã–≤–∞—Ç—å –ª—é–±—ã–µ —Ç–∏–ø—ã —Å–∏—Å—Ç–µ–º –Ω–æ –æ–±—è–∑–∞–Ω–∞ –∏–º–µ—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é IUpdateSystem
// Ecs.SystemsBatch —Ç–∏–ø –∏–º–µ–µ—Ç –ø–µ—Ä–µ–≥—Ä—É–∑–∫–∏ –¥–ª—è —Ä–∞–∑–Ω–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Å–∏—Å—Ç–µ–º
MySystems.AddBatchUpdateSystem<Ecs.SystemsBatch<
    SomeUpdateSystem1,
    SomeComboSystem1,
    SomeComboSystem2,
    SomeComboSystem3,
    SomeComboSystem4,
    SomeComboSystem5,
    SomeComboSystem
>>();

// –ó–¥–µ—Å—å –±—É–¥—É—Ç –≤—ã–∑–≤–∞–Ω—ã –≤—Å–µ Init —Å–∏—Å—Ç–µ–º—ã
MySystems.Initialize();

// –ó–¥–µ—Å—å –±—É–¥—É—Ç –≤—ã–∑–≤–∞–Ω—ã –≤—Å–µ Update —Å–∏—Å—Ç–µ–º—ã
MySystems.Update();

// –ó–¥–µ—Å—å –±—É–¥—É—Ç –≤—ã–∑–≤–∞–Ω—ã –≤—Å–µ Destroy —Å–∏—Å—Ç–µ–º—ã
MySystems.Destroy();
```
</details>

### Context
–ö–æ–Ω—Ç–µ–∫—Å—Ç - –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ DI, –ø—Ä–æ—Å—Ç–æ–π –º–µ—Ö–∞–Ω–∏–∑–º —Ö—Ä–∞–Ω–µ–Ω–∏—è –∏ –ø–µ—Ä–µ–¥–∞—á–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö –∏ —Å–µ—Ä–≤–∏—Å–æ–≤ –≤ —Å–∏—Å—Ç–µ–º—ã –∏ –¥—Ä—É–≥–∏–µ –º–µ—Ç–æ–¥—ã
- –ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω –≤ –≤–∏–¥–µ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∫–ª–∞—Å—Å–∞ `Ecs<IWorldId>.Context<T>`

<details><summary><u><b>–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ üëá</b></u></summary>

- –û—Å–Ω–æ–≤–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏:
```c#
// –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –∫–ª–∞—Å—Å—ã –∏ —Å–µ—Ä–≤–∏—Å—ã
public class UserService1 { }
public class UserService2 { }

// –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç –Ω—É–∂–Ω—ã—Ö –æ–±—å–µ–∫—Ç–æ–≤, –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–æ–±–∞–≤–ª—è—Ç—å –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç –æ–±—å–µ–∫—Ç—ã –¥–æ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏, –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ —Ä–∞–±–æ—Ç—ã —Å–∏—Å—Ç–µ–º —Ç–∞–∫–∂–µ –º–æ–≥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è –Ω–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
// –í–∞–∂–Ω–æ –ø–æ–º–Ω–∏—Ç—å —á—Ç–æ –µ—Å–ª–∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ Init —Å–∏—Å—Ç–µ–º–∞—Ö —Ç–æ –¥–∞–Ω–Ω—ã–µ —Ç—É–¥–∞ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –ø–µ—Ä–µ–¥–∞–Ω—ã –¥–æ Ecs.Initialize() –∏–ª–∏ –¥–æ –≤—ã–∑–æ–≤–∞ –≤ —Ü–µ–ø–æ—á–∫–µ –≤—ã–∑–æ–≤–æ–≤ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π Init —Å–∏—Å—Ç–µ–º—ã 
// –í–∞–∂–Ω–æ! –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ –º–æ–∂–µ—Ç —Ö—Ä–∞–Ω–∏—Ç—å—Å—è —Å—Ç—Ä–æ–≥–æ 1 –æ–±—å–µ–∫—Ç 1 —Ç–∏–ø–∞ - –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ —á–µ—Ä–µ –º–µ—Ç–æ–¥ Set –ø–æ–≤—Ç–æ—Ä–Ω–æ –æ–¥–Ω–æ–≥–æ —Ç–∏–ø–∞ –±—É–¥–µ—Ç –æ—à–∏–±–∫–∞
MyEcs.Context<UserService1>.Set(new UserService1());
MyEcs.Context<UserService2>.Set(new UserService2());

// –ü—Ä–∏ –≤—ã–∑–æ–≤–µ Replace —É–∫–∞–∑–∞–Ω—ã–π —Ç–∏–ø —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –∏–ª–∏ –∑–∞–º–µ–Ω–∏—Ç—Å—è –±–µ–∑ –æ—à–∏–±–∫–∏ 
MyEcs.Context<UserService2>.Replace(new UserService2());

// –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –µ—Å—Ç—å –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ –∑–Ω–∞—á–µ–Ω–∏–µ –¥–∞–Ω–Ω–æ–≥–æ —Ç–∏–ø–∞
bool has = MyEcs.Context<UserService2>.Has();

// –£–¥–∞–ª–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –∏–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
MyEcs.Context<UserService2>.Remove();

// –í–∞–∂–Ω–æ! –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–∞–º –∑–∞–±–æ—Ç–∏—Ç—Å—è –æ–± –æ—á–∏—Å—Ç–∫–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –µ—Å–ª–∏ –æ–Ω –±–æ–ª—å—à–µ –Ω–µ –Ω—É–∂–µ–Ω –∏–ª–∏ –∫–æ–≥–¥–∞  —É–∂–µ –º–∏—Ä —É–¥–∞–ª–µ–Ω, –Ω–∞–ø—Ä–∏–º–µ—Ä –≤ –º–µ—Ç–æ–¥–µ Destroy –≤ —Å–∏—Å—Ç–µ–º–∞—Ö
```
</details>

### Query
–ó–∞–ø—Ä–æ—Å—ã - –º–µ—Ö–∞–Ω–∏–∑–º –ø–æ–∑–≤–æ–ª—è—é—â–∏–π –æ—Å—É—â–µ—Å—Ç–≤–ª—è—Ç—å –ø–æ–∏—Å–∫ —Å—É—â–Ω–æ—Å—Ç–µ–π –∏ –∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –≤ –º–∏—Ä–µ

<details><summary><u><b>–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ üëá</b></u></summary>

–†–∞—Å—Å–º–æ—Ç—Ä–∏–º –±–∞–∑–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –ø–æ–∏—Å–∫–∞ —Å—É—â–Ω–æ—Å—Ç–µ–π –≤ –º–∏—Ä–µ:
```c#
// –°—É—â–µ—Å—Ç–≤—É–µ—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–æ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –∑–∞–ø—Ä–æ—Å–æ–≤
// World.QueryEntities.For()\With() –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏—Ç–µ—Ä–∞—Ç–æ—Ä —Å—É—â–Ω–æ—Å—Ç–µ–π –ø–æ–¥—Ö–æ–¥—è—â–∏—Ö –ø–æ–¥ —É—Å–ª–æ–≤–∏–µ
// –î–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —É—Å–ª–æ–≤–∏–π —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –¥–æ—Å—Ç—É–ø–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ —Ç–∏–ø—ã:

// All - —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç —Å—É—â–Ω–æ—Å—Ç–∏ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –≤—Å–µ—Ö —É–∫–∞–∑–∞–Ω–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ (–ø–µ—Ä–µ–≥—Ä—É–∑–∫–∞ –æ—Ç 1 –¥–æ 8)
All<Types<Position, Direction, Velocity>> _all = default;
Single<Position> _single = default; // —á—É—Ç—å –±–æ–ª–µ–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–π –º–µ—Ç–æ–¥ —á–µ–º All<Types<Position>>
Double<Position, Velocity> _double = default; // —á—É—Ç—å –±–æ–ª–µ–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–π –º–µ—Ç–æ–¥ —á–µ–º All<Types<Position, Velocity>>

// AllAndNone - —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç —Å—É—â–Ω–æ—Å—Ç–∏ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –≤—Å–µ—Ö —É–∫–∞–∑–∞–Ω–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –ø–µ—Ä–≤–æ–π –≥—Ä—É–ø–ø—ã –∏ –æ—Ç—Å—É—Ç—Å–≤–∏–µ –≤—Å–µ—Ö –≤–æ –≤—Ç–æ—Ä–æ–π (–ø–µ—Ä–µ–≥—Ä—É–∑–∫–∞ –æ—Ç 1 –¥–æ 8)
AllAndNone<Types<Position, Direction, Velocity>, Types<Name>> _allAndNone = default;

// None - —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç —Å—É—â–Ω–æ—Å—Ç–∏ –Ω–∞ –æ—Ç—Å—É—Ç—Å–≤–∏–µ –≤—Å–µ—Ö —É–∫–∞–∑–∞–Ω–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ (–º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è —Ç–æ–ª—å–∫–æ –≤ —Å–æ—Å—Ç–∞–≤–µ –¥—Ä—É–≥–∏—Ö –º–µ—Ç–æ–¥–æ–≤) (–ø–µ—Ä–µ–≥—Ä—É–∑–∫–∞ –æ—Ç 1 –¥–æ 8)
None<Types<Name>> _none = default;

// Any - —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç —Å—É—â–Ω–æ—Å—Ç–∏ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –ª—é–±–æ–≥–æ –∏–∑ —É–∫–∞–∑–∞–Ω–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ (–º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è —Ç–æ–ª—å–∫–æ –≤ —Å–æ—Å—Ç–∞–≤–µ –¥—Ä—É–≥–∏—Ö –º–µ—Ç–æ–¥–æ–≤) (–ø–µ—Ä–µ–≥—Ä—É–∑–∫–∞ –æ—Ç 1 –¥–æ 8)
Any<Types<Position, Direction, Velocity>> _any = default;

// –ê–Ω–∞–ª–æ–≥–∏ –¥–ª—è —Ç–µ–≥–æ–≤
// TagAll - —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç —Å—É—â–Ω–æ—Å—Ç–∏ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –≤—Å–µ—Ö —É–∫–∞–∑–∞–Ω–Ω—ã—Ö —Ç–µ–≥–æ–≤ (–ø–µ—Ä–µ–≥—Ä—É–∑–∫–∞ –æ—Ç 1 –¥–æ 8)
TagAll<Tag<Unit, Player>> _all = default;
TagSingle<Unit> _single = default; // —á—É—Ç—å –±–æ–ª–µ–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–π –º–µ—Ç–æ–¥ —á–µ–º TagAll<Tag<Unit>>
TagDouble<Unit, Player> _double = default; // —á—É—Ç—å –±–æ–ª–µ–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–π –º–µ—Ç–æ–¥ —á–µ–º TagAll<Tag<Unit, Player>>

// AllAndNone - —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç —Å—É—â–Ω–æ—Å—Ç–∏ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –≤—Å–µ—Ö —É–∫–∞–∑–∞–Ω–Ω—ã—Ö —Ç–µ–≥–æ–≤ –ø–µ—Ä–≤–æ–π –≥—Ä—É–ø–ø—ã –∏ –æ—Ç—Å—É—Ç—Å–≤–∏–µ –≤—Å–µ—Ö –≤–æ –≤—Ç–æ—Ä–æ–π (–ø–µ—Ä–µ–≥—Ä—É–∑–∫–∞ –æ—Ç 1 –¥–æ 8)
TagAllAndNone<Tag<Unit>, Tag<Player>> _allAndNone = default;

// None - —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç —Å—É—â–Ω–æ—Å—Ç–∏ –Ω–∞ –æ—Ç—Å—É—Ç—Å–≤–∏–µ –≤—Å–µ—Ö —É–∫–∞–∑–∞–Ω–Ω—ã—Ö —Ç–µ–≥–æ–≤ (–º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è —Ç–æ–ª—å–∫–æ –≤ —Å–æ—Å—Ç–∞–≤–µ –¥—Ä—É–≥–∏—Ö –º–µ—Ç–æ–¥–æ–≤) (–ø–µ—Ä–µ–≥—Ä—É–∑–∫–∞ –æ—Ç 1 –¥–æ 8)
TagNone<Tag<Unit>> _none = default;

// Any - —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç —Å—É—â–Ω–æ—Å—Ç–∏ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –ª—é–±–æ–≥–æ –∏–∑ —É–∫–∞–∑–∞–Ω–Ω—ã—Ö —Ç–µ–≥–æ–≤ (–º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è —Ç–æ–ª—å–∫–æ –≤ —Å–æ—Å—Ç–∞–≤–µ –¥—Ä—É–≥–∏—Ö –º–µ—Ç–æ–¥–æ–≤) (–ø–µ—Ä–µ–≥—Ä—É–∑–∫–∞ –æ—Ç 1 –¥–æ 8)
TagAny<Tag<Unit, Player>> _any = default;

// –ê–Ω–∞–ª–æ–≥–∏ –¥–ª—è –º–∞—Å–æ–∫
// MaskAll - —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç —Å—É—â–Ω–æ—Å—Ç–∏ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –≤—Å–µ—Ö —É–∫–∞–∑–∞–Ω–Ω—ã—Ö —Ç–µ–≥–æ–≤ (–º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è —Ç–æ–ª—å–∫–æ –≤ —Å–æ—Å—Ç–∞–≤–µ –¥—Ä—É–≥–∏—Ö –º–µ—Ç–æ–¥–æ–≤) (–ø–µ—Ä–µ–≥—Ä—É–∑–∫–∞ –æ—Ç 1 –¥–æ 8)
MaskAll<Mask<Flammable, Frozen, Visible>> _all = default;
MaskSingle<Flammable> _single = default; // —á—É—Ç—å –±–æ–ª–µ–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–π –º–µ—Ç–æ–¥ —á–µ–º MaskAll<Mask<Flammable>>
MaskDouble<Flammable, Frozen> _double = default; // —á—É—Ç—å –±–æ–ª–µ–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–π –º–µ—Ç–æ–¥ —á–µ–º MaskAll<Mask<Flammable, Frozen>>

// AllAndNone - —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç —Å—É—â–Ω–æ—Å—Ç–∏ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –≤—Å–µ—Ö —É–∫–∞–∑–∞–Ω–Ω—ã—Ö —Ç–µ–≥–æ–≤ –ø–µ—Ä–≤–æ–π –≥—Ä—É–ø–ø—ã –∏ –æ—Ç—Å—É—Ç—Å–≤–∏–µ –≤—Å–µ—Ö –≤–æ –≤—Ç–æ—Ä–æ–π (–º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è —Ç–æ–ª—å–∫–æ –≤ —Å–æ—Å—Ç–∞–≤–µ –¥—Ä—É–≥–∏—Ö –º–µ—Ç–æ–¥–æ–≤)
MaskAllAndNone<Mask<Flammable, Frozen>, Mask<Visible>> _allAndNone = default;

// None - —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç —Å—É—â–Ω–æ—Å—Ç–∏ –Ω–∞ –æ—Ç—Å—É—Ç—Å–≤–∏–µ –≤—Å–µ—Ö —É–∫–∞–∑–∞–Ω–Ω—ã—Ö —Ç–µ–≥–æ–≤ (–º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è —Ç–æ–ª—å–∫–æ –≤ —Å–æ—Å—Ç–∞–≤–µ –¥—Ä—É–≥–∏—Ö –º–µ—Ç–æ–¥–æ–≤) (–ø–µ—Ä–µ–≥—Ä—É–∑–∫–∞ –æ—Ç 1 –¥–æ 8)
MaskNone<Mask<Frozen>> _none = default;

// Any - —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç —Å—É—â–Ω–æ—Å—Ç–∏ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –ª—é–±–æ–≥–æ –∏–∑ —É–∫–∞–∑–∞–Ω–Ω—ã—Ö —Ç–µ–≥–æ–≤ (–º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è —Ç–æ–ª—å–∫–æ –≤ —Å–æ—Å—Ç–∞–≤–µ –¥—Ä—É–≥–∏—Ö –º–µ—Ç–æ–¥–æ–≤) (–ø–µ—Ä–µ–≥—Ä—É–∑–∫–∞ –æ—Ç 1 –¥–æ 8)
MaskAny<Mask<Flammable, Frozen, Visible>> _any = default;

// –í—Å–µ —Ç–∏–ø—ã –≤—ã—à–µ –Ω–µ —Ç—Ä–µ–±—É—é—Ç —è–≤–Ω–æ–π –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏, –Ω–µ —Ç—Ä–µ–±—É—é—Ç –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è, –∫–∞–∂–¥—ã–π –∏–∑ –Ω–∏—Ö –∑–∞–Ω–∏–º–∞–µ—Ç –Ω–µ –±–æ–ª—å—à–µ 1-2 –±–∞–π—Ç –∏ –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è "–Ω–∞ –ª–µ—Ç—É"


// –†–∞–∑–ª–∏—á–Ω—ã–µ –Ω–∞–±–æ—Ä—ã –º–µ—Ç–æ–¥–æ–≤ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –º–æ–≥—É—Ç –±—ã—Ç—å –ø—Ä–∏–º–µ–Ω–∏–Ω—ã –∫ –º–µ—Ç–æ–¥—É World.QueryEntities.For() –Ω–∞–ø—Ä–∏–º–µ—Ä:
// –í–∞—Ä–∏–∞–Ω—Ç —Å 1 –º–µ—Ç–æ–¥–æ–º —á–µ—Ä–µ–∑ –¥–∂–µ–Ω–µ—Ä–∏–∫
foreach (var entity in MyWorld.QueryEntities.For<All<Types<Position, Direction, Velocity>>>()) {
    entity.RefMut<Position>().Val *= entity.Ref<Velocity>().Val;
}

// –í–∞—Ä–∏–∞–Ω—Ç —Å 1 –º–µ—Ç–æ–¥–æ–º —á–µ—Ä–µ–∑ –∑–Ω–∞—á–µ–Ω–∏–µ
var all = default(All<Types<Position, Direction, Velocity>>);
foreach (var entity in MyWorld.QueryEntities.For(all)) {
    entity.RefMut<Position>().Val *= entity.Ref<Velocity>().Val;
}

// –í–∞—Ä–∏–∞–Ω—Ç —Å 3 –º–µ—Ç–æ–¥–∞–º–∏  —á–µ—Ä–µ–∑ –¥–∂–µ–Ω–µ—Ä–∏–∫
foreach (var entity in MyWorld.QueryEntities.For<
             All<Types<Position, Velocity, Name>>,
             AllAndNone<Types<Position, Direction, Velocity>, Types<Name>>,
             None<Types<Name>>>()) {
    entity.RefMut<Position>().Val *= entity.Ref<Velocity>().Val;
}

// –í–∞—Ä–∏–∞–Ω—Ç —Å 3 –º–µ—Ç–æ–¥–∞–º–∏  —á–µ—Ä–µ–∑ –∑–Ω–∞—á–µ–Ω–∏–µ
All<Types<Position, Direction, Velocity>> all2 = default;
AllAndNone<Types<Position, Direction, Velocity>, Types<Name>> allAndNone2 = default;
None<Types<Name>> none2 = default;
foreach (var entity in MyWorld.QueryEntities.For(all2, allAndNone2, none2)) {
    entity.RefMut<Position>().Val *= entity.Ref<Velocity>().Val;
}

// –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç —Å 3 –º–µ—Ç–æ–¥–∞–º–∏  —á–µ—Ä–µ–∑ –∑–Ω–∞—á–µ–Ω–∏–µ
var all3 = Types<Position, Direction, Velocity>.All();
var allAndNone3 = Types<Position, Direction, Velocity>.AllAndNone(default(Types<Name>));
var none3 = Types<Name>.None();
foreach (var entity in MyWorld.QueryEntities.For(all3, allAndNone3, none3)) {
    entity.RefMut<Position>().Val *= entity.Ref<Velocity>().Val;
}


// –¢–∞–∫–∂–µ –≤—Å–µ –º–µ—Ç–æ–¥—ã —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –º–æ–≥—É—Ç –±—ã—Ç—å —Å–≥—Ä—É–ø–ø–∏—Ä–æ–≤–∞–Ω–Ω—ã –≤ —Ç–∏–ø With
// –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–µ—Ç –ø—Ä–∏–º–µ–Ω—è—Ç—å—Å—è –∫ –º–µ—Ç–æ–¥—É World.QueryEntities.With() –Ω–∞–ø—Ä–∏–º–µ—Ä:

// –°–ø–æ—Å–æ–± 1 —á–µ—Ä–µ–∑ –¥–∂–µ–Ω–µ—Ä–∏–∫
foreach (var entity in MyWorld.QueryEntities.With<With<
             All<Types<Position, Velocity, Name>>,
             AllAndNone<Types<Position, Direction, Velocity>, Types<Name>>,
             None<Types<Name>>,
             Any<Types<Position, Direction, Velocity>>
         >>()) {
    entity.RefMut<Position>().Val *= entity.Ref<Velocity>().Val;
}

// –°–ø–æ—Å–æ–± 2 —á–µ—Ä–µ–∑ –∑–Ω–∞—á–µ–Ω–∏—è
With<
    All<Types<Position, Velocity, Name>>,
    AllAndNone<Types<Position, Direction, Velocity>, Types<Name>>,
    None<Types<Name>>,
    Any<Types<Position, Direction, Velocity>>
> with = default;
foreach (var entity in MyWorld.QueryEntities.With(with)) {
    entity.RefMut<Position>().Val *= entity.Ref<Velocity>().Val;
}

// –°–ø–æ—Å–æ–± 3 —á–µ—Ä–µ–∑ –∑–Ω–∞—á–µ–Ω–∏—è –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π
var with2 = With.Create(
    default(All<Types<Position, Velocity, Name>>),
    default(AllAndNone<Types<Position, Direction, Velocity>, Types<Name>>),
    default(None<Types<Name>>),
    default(Any<Types<Position, Direction, Velocity>>)
);
foreach (var entity in MyWorld.QueryEntities.With(with2)) {
    entity.RefMut<Position>().Val *= entity.Ref<Velocity>().Val;
}

// –°–ø–æ—Å–æ–± 4 —á–µ—Ä–µ–∑ –∑–Ω–∞—á–µ–Ω–∏—è –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π
var with3 = With.Create(
    Types<Position, Velocity, Name>.All(),
    Types<Position, Direction, Velocity>.AllAndNone(default(Types<Name>)),
    Types<Name>.None(),
    Types<Position, Direction, Velocity>.Any()
);
foreach (var entity in MyWorld.QueryEntities.With(with3)) {
    entity.RefMut<Position>().Val *= entity.Ref<Velocity>().Val;
}
```

–†–∞—Å—Å–º–æ—Ç—Ä–∏–º –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –ø–æ–∏—Å–∫–∞ —Å—É—â–Ω–æ—Å—Ç–µ–π –≤ –º–∏—Ä–µ:
```c#
// World.QueryComponents.For()\With() –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏—Ç–µ—Ä–∞—Ç–æ—Ä —Å—É—â–Ω–æ—Å—Ç–µ–π –ø–æ–¥—Ö–æ–¥—è—â–∏—Ö –ø–æ–¥ —É—Å–ª–æ–≤–∏–µ c—Ä–∞–∑—É —Å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏ 


// –í–∞—Ä–∏–∞–Ω—Ç 1 –∫–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –ø—Ä–æ–π—Ç–∏—Å—å –ø–æ –≤—Å–µ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º –æ–¥–Ω–æ–≥–æ —Ç–∏–ø–∞
// (–æ—á–µ–Ω—å –±—ã—Å—Ç—Ä—ã–π, –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –¥–ª—è –æ—á–µ–Ω—å –ø—Ä–æ—Å—Ç—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π –¥–ª—è –∫–æ—Ç–æ—Ä—ã—Ö –Ω–µ –Ω—É–∂–Ω–∞—è —Å—É—â–Ω–æ—Å—Ç—å –∏–ª–∏ –¥—Ä—É–≥–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã)
foreach (ref var position in MyWorld.QueryComponents.For<Position>()) {
    position.Val += Vector3.UnitX;
}

// –í–∞—Ä–∏–∞–Ω—Ç 2 —Å —É–∫–∞–∑–∞–Ω–∏–µ–º –¥–µ–ª–µ–≥–∞—Ç–∞ –∏ —Å—Ä–∞–∑—É –ø–æ–ª—É—á–µ–Ω–∏–µ–º –Ω—É–∂–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤, –º–æ–∂–µ—Ç –±—ã—Ç—å —É–∫–∞–∑–∞–Ω–æ –æ—Ç 1 –¥–æ 8 —Ç–∏–ø–æ–≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
MyWorld.QueryComponents.For<Position, Velocity, Name>((Ecs.Entity entity, ref Position position, ref Velocity velocity, ref Name name) => {
    position.Val *= velocity.Val;
});

// –º–æ–∂–Ω–æ —É–±—Ä–∞—Ç—å –¥–∂–µ–Ω–µ—Ä–∏–∫–∏, —Ç–∞–∫ –∫–∞–∫ –æ–Ω–∏ –≤—ã–≤–æ–¥—è—Ç—Å—è –∏–∑ —Ç–∏–ø–∞ –ø–µ—Ä–µ–¥–∞–Ω–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏
MyWorld.QueryComponents.For((Ecs.Entity entity, ref Position position, ref Velocity velocity, ref Name name) => {
    position.Val *= velocity.Val;
});

// –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ static –¥–ª—è –¥–µ–ª–µ–≥–∞—Ç–∞ –¥–ª—è —Ç–æ–≥–æ —á—Ç–æ–±—ã –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å —á—Ç–æ –¥–∞–Ω–Ω—ã–π –¥–µ–ª–µ–≥–∞—Ç –Ω–µ –±—É–¥–µ—Ç –∞–ª–ª–æ—Ü–∏—Ä–æ–≤–∞—Ç—å—Å—è –∫–∞–∂–¥—ã–π —Ä–∞–∑
// –≤ —Å–æ–≤–æ–∫—É–ø–Ω–æ—Å—Ç–∏ —Å Ecs.Context –¥–∞–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —É–¥–æ–±–Ω–æ–≥–æ –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ–≥–æ –∫–æ–¥–∞ –±–µ–∑ —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–º—ã–∫–∞–Ω–∏–π –≤ –¥–µ–ª–µ–≥–∞—Ç–µ
MyWorld.QueryComponents.For(static (Ecs.Entity entity, ref Position position, ref Velocity velocity, ref Name name) => {
    position.Val *= velocity.Val;
});

// –¢–∞–∫–∂–µ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å WithAdds –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã–π With –∏–∑ –ø—Ä–æ—à–ª–æ–≥–æ –ø—Ä–∏–º–µ—Ä–∞ –Ω–æ —Ä–∞–∑—Ä–µ—à–∞—é—â–∏–π —É–∫–∞–∑–∞–Ω–∏—è —Ç–æ–ª—å–∫–æ –≤—Ç–æ—Ä–∏—á–Ω—ã—Ö –º–µ—Ç–æ–¥–æ–≤ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ (—Ç–∞–∫–∏–µ—Ö –∫–∞–∫ None, Any) –¥–ª—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ —Å—É—â–Ω–æ—Å—Ç–µ–π
// –°—Ç–æ–∏—Ç –∑–∞–º–µ—Ç–∏—Ç—å —á—Ç–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∫–æ—Ç–æ—Ä—ã–µ —É–∫–∞–∑–∞–Ω—ã –≤ –¥–µ–ª–µ–≥–∞—Ç–µ —Ä–∞—Å—Ü–µ–Ω–∏–≤–∞—é—Ç—Å—è –∫–∞–∫ —Ñ–∏–ª—å—Ç—Ä All
// —Ç–æ –µ—Å—Ç—å WithAdds –ª–∏—à—å –¥–æ–ø–æ–ª–Ω—è—Ç —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –∏ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç —É–∫–∞–∑–∞–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

WithAdds<
    None<Types<Direction>>,
    Any<Types<Position, Direction, Velocity>>
> with = default;

MyWorld.QueryComponents.With(with).For(static (Ecs.Entity entity, ref Position position, ref Velocity velocity, ref Name name) => {
    position.Val *= velocity.Val;
});

// –∏–ª–∏ —Ç–∞–∫
MyWorld.QueryComponents.With<WithAdds<
    None<Types<Direction>>,
    Any<Types<Position, Direction, Velocity>>
>>().For(static (Ecs.Entity entity, ref Position position, ref Velocity velocity, ref Name name) => {
    position.Val *= velocity.Val;
});
```

–†–∞—Å—Å–º–æ—Ç—Ä–∏–º –æ—Å–æ–±—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –ø–æ–∏—Å–∫–∞ —Å—É—â–Ω–æ—Å—Ç–µ–π –≤ –º–∏—Ä–µ:
```c#
// –ó–∞–ø—Ä–æ—Å—ã —Å –ø–µ—Ä–µ–¥–∞—á–µ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã-—Ñ—É–Ω–∫—Ü–∏–∏ 
// –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∏–ª–∏ –ø–µ—Ä–µ–¥–∞—á–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è –≤ —Å—Ç—Ä–∞–∫—Ç –∏–ª–∏ –¥–ª—è –≤—ã–Ω–µ—Å–µ–Ω–∏—è –ª–æ–≥–∏–∫–∏

// –û–ø—Ä–µ–¥–µ–ª–∏–º —Å—Ç—Ä—É–∫—Ç—É—Ä—É-—Ñ—É–Ω–∫—Ü–∏—é –∫–æ—Ç–æ—Ä–æ–π –º–æ–∂–µ–º –∑–∞–º–µ–Ω–∏—Ç—å –¥–µ–ª–µ–≥–∞—Ç
// –û–Ω–∞ –¥–æ–ª–∂–Ω–∞ —Ä–µ–∞–ª–∏–∑–æ–≤—ã–≤–∞—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å IQueryFunction —Å —É–∫–∞–∑–∞–Ω–∏–µ–º –æ—Ç 1-8 –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
readonly struct StructFunction : Ecs.IQueryFunction<Position, Velocity, Name> {
    public void Run(Ecs.Entity entity, ref Position position, ref Velocity velocity, ref Name name) {
        position.Val *= velocity.Val;
    }
}

// –í–∞—Ä–∏–∞–Ω—Ç 1 —Å –ø–µ—Ä–µ–¥–∞—á–µ–π —á–µ—Ä–µ–∑ –¥–∂–µ–Ω–µ—Ä–∏–∫
MyWorld.QueryComponents.For<Position, Velocity, Name, StructFunction>();

// –í–∞—Ä–∏–∞–Ω—Ç 1 —Å –ø–µ—Ä–µ–¥–∞—á–µ–π —á–µ—Ä–µ–∑ –∑–Ω–∞—á–µ–Ω–∏–µ
MyWorld.QueryComponents.For<Position, Velocity, Name, StructFunction>(new StructFunction());

// –í–∞—Ä–∏–∞–Ω—Ç 2 —Å With —á–µ—Ä–µ–∑ –¥–∂–µ–Ω–µ—Ä–∏–∫
MyWorld.QueryComponents.With<WithAdds<
    None<Types<Direction>>,
    Any<Types<Position, Direction, Velocity>>
>>().For<Position, Velocity, Name, StructFunction>();

// –í–∞—Ä–∏–∞–Ω—Ç 2 —Å With —á–µ—Ä–µ–∑ –∑–Ω–∞—á–µ–Ω–∏–µ
WithAdds<
    None<Types<Direction>>,
    Any<Types<Position, Direction, Velocity>>
> with = default;
MyWorld.QueryComponents.With(with).For<Position, Velocity, Name, StructFunction>();

// –¢–∞–∫–∂–µ –≤–æ–∑–º–æ–∂–Ω–æ –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞—Ç—å —Å–∏—Å—Ç–µ–º—É –∏ IQueryFunction, –Ω–∞–ø—Ä–∏–º–µ—Ä:
// —ç—Ç–æ –º–æ–∂–µ—Ç —É–ª—É—á—à–∏—Ç—å –≤–æ—Å–ø—Ä–∏—è—Ç–∏—è –∫–æ–¥–∞ –∏ —É–≤–µ–ª–∏—á–∏—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å + —ç—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ–±—Ä–∞—â–∞—Ç—å—Å—è –≤ –Ω–µ—Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–º —á–ª–µ–Ω–∞–º —Å–∏—Å—Ç–µ–º—ã
public struct SomeFunctionSystem : IInitSystem, IUpdateSystem, Ecs.IQueryFunction<Position, Velocity, Name> {
    private UserService1 _userService1;
    
    WithAdds<
        None<Types<Direction>>,
        Any<Types<Position, Direction, Velocity>>
    > with;
    
    public void Init() {
        _userService1 = Ecs.Context<UserService1>.Get();
    }
    
   public void Update() {
       MyWorld.QueryComponents
            .With(with)
            .For<Position, Velocity, Name, SomeFunctionSystem>(ref this);
   }
    
    public void Run(Ecs.Entity entity, ref Position position, ref Velocity velocity, ref Name name) {
        position.Val *= velocity.Val;
        _userService1.CallSomeMethod(name.Val);
    }
}
```

</details>

# –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
### –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
–í —Å–ª—É—á–∞–µ –∫–æ–≥–¥–∞ –ø—Ä–æ–µ–∫—Ç –æ—á–µ–Ω—å –±–æ–ª—å—à–æ–π –∏–ª–∏ –Ω–∞–æ–±–æ—Ä–æ—Ç –º–∞–ª–µ–Ω—å–∫–∏–π –∏ –æ–±—ä–µ–º –∫–æ–º–ø–∏–ª–∏—Ä—É–µ–º–æ–≥–æ –∫–æ–¥–∞ –≤–∞–∂–µ–Ω:  
–¢–∞–∫–∏–µ –≤–µ—â–∏ –∫–∞–∫ = —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ Query, –∏ —Å–∞—Ö–∞—Ä–Ω—ã–µ –º–µ—Ç–æ–¥—ã —Ä–∞–±–æ—Ç—ã —Å —Å—É—â–Ω–æ—Å—Ç—å—é, –º–æ–≥—É—Ç —Ä–∞–∑–¥—É–≤–∞—Ç—å –∫–æ–º–ø–∏–ª–∏—Ä—É–µ–º—ã–π –∫–æ–¥ –∑–∞ —Å—á–µ—Ç –º–æ–Ω–æ–º–æ—Ä—Ñ–∏–∑–∞—Ü–∏–∏ –¥–∂–µ–Ω–µ—Ä–∏–∫ —Ç–∏–ø–æ–≤ –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞—Ö –∏ –º–µ—Ç–æ–¥–∞—Ö.
–ß—Ç–æ–±—ã —ç—Ç–æ–≥–æ –∏–∑–±–µ–∂–∞—Ç—å, —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –º–µ—Ö–∞–Ω–∏–∑ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–≤ –¥–ª—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤, —Ç–µ–≥–æ–≤ –∏ –º–∞—Å–æ–∫ - –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–∑–≤–æ–ª—è—é—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏—Ö –≤–º–µ—Å—Ç–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —Ç–∏–ø–æ–≤  
–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:
```csharp
// –ü–æ—Å–ª–µ –≤—ã–∑–æ–≤–∞ Ecs.Create(EcsConfig.Default());
// –ú–æ–∂–Ω–æ —è–≤–Ω–æ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å —Ç–∏–ø—ã –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –∏ –ø–æ–ª—É—á–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Å–æ–¥–µ—Ä–∂–∞—â—É—é –∏–¥–µ–Ω—Ç–∏—Ñ–∫–∞—Ç–æ—Ä —Ç–∏–ø–∞
ComponentDynId positionId = MyWorld.RegisterComponent<Position>();
TagDynId unitTagId = MyWorld.RegisterTag<Unit>();
MaskDynId frozenMaskId = MyWorld.RegisterMask<Frozen>();

// –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ –º–æ–∂–Ω–æ –ø–æ—Å–ª–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –º–∏—Ä–∞ –≤ –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç –ø–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã —Å–ª–µ–¥ –æ–±—Ä–∞–∑–æ–º:
ComponentDynId positionId = Ecs.Components.GetDynamicId<Position>();
TagDynId unitTagId = Ecs.Tags.GetDynamicId<Unit>();
MaskDynId frozenMaskId = Ecs.Masks.GetDynamicId<Frozen>();

// –î–∞–Ω–Ω—ã–µ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã –º–æ–∂–Ω–æ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –ª—é–±—ã–º —É–¥–æ–±–Ω—ã–º —Å–ø–æ—Å–æ–±–æ–º –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –æ–ø–µ—Ä–∞—Ü–∏—è—Ö c —Å—É—â–Ω–æ—Å—Ç—å—é –∏–ª–∏ Query
// –°—É—â–µ—Å—Ç–≤—É—é –ø–µ—Ä–µ–≥—Ä—É–∑–∫–∏ –¥–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ –º–µ—Ç–æ–¥–æ–≤ —Ä–∞–±–æ—Ç—ã —Å —Å—É—â–Ω–æ—Å—Ç—å—é –¥–ª—è –¥–∞–Ω–Ω—ã—Ö –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–≤
// –ü—Ä–∏–º–µ—Ä –¥–ª—è —Å—É—â–Ω–æ—Å—Ç–µ–π
entity.Add(positionId);
entity.TryAdd(positionId, VelocityId, nameId);
entity.Delete(positionId, VelocityId, nameId);
entity.AddTag(unitTagId);
entity.SetMask(frozenMaskId);

// –ü—Ä–∏–º–µ—Ä –¥–ª—è Query
// –°—É—â–µ—Å—Ç–≤—É—é—Ç –ø–µ—Ä–µ–≥—Ä—É–∑–∫–∏ —Ç–∏–ø—ã Types1-8, Tag1-8, Mask1-8 –∞ —Ç–∞–∫–∂–µ –æ–±—â–∏–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏ –¥–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π —Ç–∞–∫–∏–µ –∫–∞–∫ TypesBox, TypesArray –∏ —Ç–¥
// –î–∞–Ω–Ω—ã–µ –ø–µ—Ä–µ–≥—Ä—É–∑–∫–∏ —Å–æ–¥–µ—Ä–∂–∞—Ç –¥–∞–Ω–Ω—ã–µ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–≤, –∞ –Ω–µ –ø—É—Å—Ç—ã–µ –∫–∞–∫ –∞–Ω–∞–ª–æ–≥–∏ —Å –¥–∂–µ–Ω–µ—Ä–∏–∫–∞–º–∏
// —ç—Ç–æ –∑–Ω–∞—á–∏—Ç —á—Ç–æ –∏—Ö –∂–µ–ª–∞—Ç–µ–ª—å–Ω–æ –Ω–µ —Å–æ–∑–¥–∞–≤–∞—Ç—å –Ω–∞ –ª–µ—Ç—É –∞ –∫–µ—à–∏—Ä–æ–≤–∞—Ç—å –¥–ª—è –ª—É—á—à–µ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

var all = new Types3(positionId, VelocityId, nameId).All();
foreach (var entity in MyWorld.QueryEntities.For(all)) {
    //..
}

var with = With.Create(
    new Types3(positionId, VelocityId, nameId).All(),
    new Types1(scaleId).None(),
    new Tag2(playerTagId, unitTagId).Any(),
    new Mask1(frozenMaskId).AllAndNone(new Mask1(flammableMaskId))
);
foreach (var entity in MyWorld.QueryEntities.With(with)) {
    //..
}

// –¢–∞–∫–∂–µ —ç—Ç–æ –º–µ—Ö–∞–Ω–∏–∑–º –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –∫–ª—é—á–∏ –≤ –ª–æ–≥–∏–∫–µ –∏–≥—Ä—ã
// –ù–∞–ø—Ä–∏–º–µ—Ä –∫–æ–≥–¥–∞ —Ç–∏–ø —Å–æ–∑–¥–∞–≤–∞–µ–º–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –º–µ–Ω—è–µ—Ç—Å—è –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —É—Å–ª–æ–≤–∏–π
// –í–∞–∂–Ω–æ! –ø–æ–º–Ω–∏—Ç—å —á—Ç–æ –¥–∞–Ω–Ω—ã–µ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ - —ç—Ç–æ –∑–Ω–∞—á–∏—Ç —á—Ç–æ –Ω–µ—Ç –≥–∞—Ä–∞–Ω—Ç–∏–π —á—Ç–æ –æ—Ç –∑–∞–ø—É—Å–∫–∞ –∫ –∑–∞–ø—É—Å–∫—É –æ–Ω–∏ –±—É–¥—É—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ
// –∑–Ω–∞—á–∏—Ç –∏—Ö –Ω–µ–ª—å–∑—è —Å–µ—Ä–∏–∞–ª–∏–∑–æ–≤—ã–≤–∞—Ç—å –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–æ–¥–æ–±–Ω—ã–º –æ–±—Ä–∞–∑–æ–º
```
### –ê–≤—Ç–æ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏
–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –∏–ª–∏ —É–¥–∞–ª–µ–Ω–∏–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –¥–∞–Ω–Ω—ã–µ –∑–∞–ø–æ–ª–Ω—è—é—Ç—Å—è –¥–µ—Ñ–æ–ª—Ç–Ω—ã–º –∑–Ω–∞—á–µ–Ω–∏–µ, –∞ –ø—Ä–∏ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –∫–æ–ø–∏—Ä—É–µ—Ç—Å—è  
–ß—Ç–æ–±—ã —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–≤–æ—é –ª–æ–≥–∏–∫—É –¥–µ—Ñ–æ–ª—Ç–Ω–æ–π –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –∏ —Å–±—Ä–æ—Å–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –º–æ–∂–Ω–æ –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞–º–∏

**AutoInit** - –∑–∞–º–µ–Ω—è–µ—Ç –ø–æ–≤–µ–¥–µ–Ω–∏–µ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ —á–µ—Ä–µ–∑ –º–µ—Ç–æ–¥ Add
```csharp
MyEcs.Create(EcsConfig.Default());
//...
MyEcs.Components.AutoHandlers<Position>.SetAutoInit(static (ref Position position) => position.Val = Vector3.One);
//...
MyEcs.Initialize();
```

**AutoReset** - –∑–∞–º–µ–Ω—è–µ—Ç –ø–æ–≤–µ–¥–µ–Ω–∏–µ –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ —á–µ—Ä–µ–∑ –º–µ—Ç–æ–¥ Delete
```csharp
MyEcs.Create(EcsConfig.Default());
//...
MyEcs.Components.AutoHandlers<Position>.SetAutoInit(static (ref Position position) => position.Val = Vector3.One);
//...
MyEcs.Initialize();
```

**AutoCopy** - –∑–∞–º–µ–Ω—è–µ—Ç –ø–æ–≤–µ–¥–µ–Ω–∏–µ –ø—Ä–∏ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
```csharp
MyEcs.Create(EcsConfig.Default());
//...
MyEcs.Components.AutoHandlers<Position>.SetAutoCopy(static (ref Position src, ref Position dst) => dst.Val = src.Val);
//...
MyEcs.Initialize();
```

> **–í–∞–∂–Ω–æ!** –°—Ç–æ–∏—Ç —É—á–∏—Ç—ã–≤–∞—Ç—å —á—Ç–æ —Å–æ–∑–¥–∞–Ω–∏–µ —Å—É—â–Ω–æ—Å—Ç–∏ —Å —É—Å—Ç–∞–Ω–æ–≤–∫–æ–π –∑–Ω–∞—á–µ–Ω–∏—è –∏–ª–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ —á–µ—Ä–µ–∑ –º–µ—Ç–æ–¥ Put  
> –ø–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–º–µ–Ω—è—é—Ç –¥–∞–Ω–Ω—ã–µ –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ, –≤ –æ–±—Ö–æ–¥ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö –∞–≤—Ç–æ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤

### –°–æ–±—ã—Ç–∏—è
–°–æ–±—ã—Ç–∏–µ - c–ª—É–∂–∏—Ç –¥–ª—è –æ–±–º–µ–Ω–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –º–µ–∂–¥—É —Å–∏—Å—Ç–µ–º–∞–º–∏ –∏–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏
- –ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–æ –≤ –≤–∏–¥–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Å –¥–∞–Ω–Ω—ã–º–∏

–ü—Ä–∏–º–µ—Ä:
```c#
public struct WeatherChanged : IEvent { 
    public WeatherType WeatherType;
}
```

<details><summary><u><b>–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ üëá</b></u></summary>

- –°–æ–∑–¥–∞–Ω–∏–µ –∏ –±–∞–∑–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏:
```c#
// –°–∏—Å—Ç–µ–º–∞ —Å–æ–±—ã—Ç–∏–π –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω–∞ –ø—Ä–∏ –≤—ã–∑–æ–≤–µ MyEcs.Create –∏ —É–Ω–∏—á—Ç–æ–∂–µ–Ω–∞ –ø—Ä–∏ MyEcs.Destroy
MyEcs.Create(EcsConfig.Default());
MyEcs.Initialize();
//...

// –ü—Ä–µ–∂–¥–µ —á–µ–º –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å —Å–æ–±—ã—Ç–∏–µ —Å–ª–µ–¥—É–µ—Ç –∑–∞—Ä–µ–≥–µ—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å —Å–ª—É—à–∞—Ç–µ–ª—è –¥–∞–Ω–Ω–æ–≥–æ —Å–æ–±—ã—Ç–∏—è, –∏–Ω–∞—á–µ —Å–æ–±—ã—Ç–∏–µ –Ω–µ –±—É–¥–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ
// –°–ª—É—à–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –±—ã—Ç—å –∑–∞—Ä–µ–≥–µ—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –ø–æ—Å–ª–µ –≤—ã–æ–∑–æ–≤–∞ Ecs.Create (–Ω–∞–ø—Ä–∏–º–µ—Ä –≤ Init –º–µ—Ç–æ–¥–µ —Å–∏—Å—Ç–µ–º—ã)
var weatherChangedEventReceiver = MyEcs.Events.RegisterEventReceiver<WeatherChanged>();

// –£–¥–∞–ª–µ–Ω–∏–µ —Å–ª—É—à–∞—Ç–µ–ª—è —Å–æ–±—ã—Ç–∏–π
MyEcs.Events.DeleteEventReceiver(ref weatherChangedEventReceiver);

// –í–∞–∂–Ω–æ! –ñ–∏–∑–Ω–µ–Ω—ã–π —Ü–∏–∫–ª —Å–æ–±—ã—Ç–∏—è: —Å–æ–±—ã—Ç–∏–µ –±—É–¥–µ—Ç —É–¥–∞–ª–µ–Ω–æ –≤ –¥–≤—É—Ö —Å–ª—É—á–∞—è—Ö:
// 1) –∫–æ–≥–¥–∞ –æ–Ω–æ –±—É–¥–µ—Ç –ø—Ä–æ—á–∏—Ç–∞–Ω–æ –≤—Å–µ–º–∏ –∑–∞—Ä–µ–≥–µ—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ —Å–ª—É—à–∞—Ç–µ–ª—è–º–∏
// 2) –∫–æ–≥–¥–∞ –æ–Ω–æ –±—É–¥–µ—Ç –ø–æ–¥–∞–≤–ª–µ–Ω–Ω–æ –ø—Ä–∏ –ø—Ä–æ—á—Ç–µ–Ω–∏–∏ (–ø—Ä–∏ –≤—ã–∑–æ–≤–µ Suppress –∏–ª–∏ SuppressAll –º–µ—Ç–æ–¥–∞ (–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –Ω–∏–∂–µ) )
// –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º –≤–∞–∂–Ω–æ —á—Ç–æ–±—ã –≤—Å–µ –∑–∞—Ä–µ–≥–µ—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å–ª—É—à–∞—Ç–µ–ª–∏ —á–∏—Ç–∞–ª–∏ —Å–æ–±—ã—Ç–∏—è –∏–ª–∏ —Å–æ–±—ã—Ç–∏–µ –ø–æ–¥–∞–≤–ª—è–ª–æ—Å—å –∫–∞–∫–∏–º –ª–∏–±–æ —Å–ª—É—à–∞—Ç–µ–ª–µ–º, —á—Ç–æ–±—ã –Ω–µ –±—ã–ª–æ –∏—Ö –Ω–∞–∫–æ–ø–ª–µ–Ω–∏—è

// –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–±—ã—Ç–∏—è
MyEcs.Events.Send(new WeatherChanged { WeatherType = WeatherType.Sunny });

// –û—Ç–ø—Ä–∞–≤–∫–∞ –¥–µ—Ñ–æ–ª—Ç–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è —Å–æ–±—ã—Ç–∏—è
MyEcs.Events.Send<WeatherChanged>();

// –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∞ —Ç–∏–ø–∞ —Å–æ–±—ã—Ç–∏—è (—Å–º–æ—Ç—Ä–∏ "–ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤")
var weatherChangedDynId = MyEcs.Events.DynamicId<WeatherChanged>();
// –û—Ç–ø—Ä–∞–≤–∫–∞ –¥–µ—Ñ–æ–ª—Ç–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è —Å–æ–±—ã—Ç–∏—è (–ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –º–∞—Ä–∫–µ—Ä–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π –±–µ–∑ –¥–∞–Ω–Ω—ã—Ö)
MyEcs.Events.SendDefault(weatherChangedDynId);

// –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π
foreach (var weatherEvent in weatherChangedEventReceiver) {
    Console.WriteLine("Weather is " + weatherEvent.Value.WeatherType);
}

foreach (var weatherEvent in weatherChangedEventReceiver) {
    // –ü–æ–¥–≤–ª–µ–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è - —Å–æ–±—ã—Ç–∏–µ –±—É–¥–µ—Ç —É–¥–∞–ª–µ–Ω–æ –∏ –¥—Ä—É–≥–∏–µ —Å–ª—É—à–∞—Ç–µ–ª–∏ –±–æ–ª—å—à–µ –Ω–µ —Å–º–æ–≥—É—Ç –µ–≥–æ –ø—Ä–æ—á–∏—Ç–∞—Ç—å
    weatherEvent.Suppress();
}

// –ü–æ–¥–∞–≤–ª–µ–Ω–∏–µ –≤—Å–µ—Ö —Å–æ–±—ã—Ç–∏–π –¥–ª—è –¥–∞–Ω–Ω–æ–≥–æ —Å–ª—É—à–∞—Ç–µ–ª—è
weatherChangedEventReceiver.SuppressAll();

// –ü–æ–º–µ—Ç–∫–∞ –æ –ø—Ä–æ—á—Ç–µ–Ω–∏–∏ –≤—Å–µ—Ö —Å–æ–±—ã—Ç–∏–π –¥–ª—è –¥–∞–Ω–Ω–æ–≥–æ —Å–ª—É—à–∞—Ç–µ–ª—è
weatherChangedEventReceiver.MarkAsReadAll();

```
</details>

### –û—Ç–Ω–æ—à–µ–Ω–∏—è
**WIP**

# –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Ç–∏–ø—ã
### Components
**WIP**

### ComponentsPool
**WIP**

### Tags
**WIP**

### TagsPool
**WIP**

### Masks
**WIP**

### MasksPool
**WIP**


# –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
–ê–∫—Ç—É–∞–ª—å–Ω—ã–µ –±–µ–Ω—á–º–∞—Ä–∫–∏ : [BENCHMARKS](./Benchmark.md)

–ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ il2Cpp –≤ Unity —Å—Ç–æ–∏—Ç –æ—Ç–º–µ—Ç–∏—Ç—å —á—Ç–æ –ø—Ä—è–º—ã–µ –≤—ã–∑–æ–≤—ã –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ —á—É—Ç—å —á—É—Ç—å –±—ã—Å—Ç—Ä–µ–µ:  
–ù–∞–ø—Ä–∏–º–µ—Ä:
```csharp
// –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≤ il2Cpp (–≤ Mono –Ω–µ—Ç —Ä–∞–∑–Ω–∏—Ü—ã) –º–æ–∂–µ—Ç –±—ã—Ç—å –ª—É—á—à–µ –≤–æ –≤—Ç–æ—Ä–æ–º –≤–∞—Ä–∏–∞–Ω—Ç–µ –Ω–∞ 10-40%
// —ç—Ç–æ –∂–µ –∫–∞—Å–∞–µ—Ç—Å—è —Ç–µ–≥–æ–≤ –∏ –º–∞—Å–æ–∫ –∏ –≤—Å–µ—Ö –æ—Å—Ç–∞–ª—å–Ω—ã—Ö –º–µ—Ç–æ–¥–æ–≤ HasAllOf<>, Delete<> –∏ —Ç–¥
ref var position = ref entity.RefMut<Position>(); // —Å–∞—Ö–∞—Ä–Ω—ã–π –º–µ—Ç–æ–¥ —á–µ—Ä–µ–∑ —Å—É—â–Ω–æ—Å—Ç—å
ref var position = ref Ecs.Components<Position>.RefMut(entity); // –ø—Ä—è–º–æ–π –≤—ã–∑–æ–≤
```
```csharp
// —Ç–∞–∫ –∂–µ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–µ—Ç–æ–¥—ã —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏–±–ª–∏–∂–µ–Ω—ã –ø–æ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∫ –ø—Ä—è–º–æ–º—É –≤—ã–∑–æ–≤—É
// –î–ª—è –∏—Ö —Å–æ–∑–¥–∞–Ω–∏—è –º–æ–∂–Ω–æ –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è —à–∞–±–ª–æ–Ω–æ–º live template –¥–ª—è rider (—á–∏—Ç–∞—Ç—å –¥–∞–ª–µ–µ) –∏–ª–∏ –∫–æ–¥–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π (WIP)
public static class PositionExtension {
    [MethodImpl(AggressiveInlining)]
    public static ref Position RefMutPosition(this Ecs.Entity entity) {
        return ref Ecs.Components<Position>.RefMut(entity);
    }
}
ref var position = ref entity.RefMutPosition();
```
Component live template
```csharp
public static class $COMPONENT$Extension {
    [System.Runtime.CompilerServices.MethodImpl(System.Runtime.CompilerServices.MethodImplOptions.AggressiveInlining)]
    public static ref $COMPONENT$ RefMut$COMPONENT$(this $ECS$.Entity entity) {
        return ref $ECS$.Components<$COMPONENT$>.RefMut(entity);
    }
    
    [System.Runtime.CompilerServices.MethodImpl(System.Runtime.CompilerServices.MethodImplOptions.AggressiveInlining)]
    public static ref readonly $COMPONENT$ Ref$COMPONENT$(this $ECS$.Entity entity) {
        return ref $ECS$.Components<$COMPONENT$>.Ref(entity);
    }
    
    [System.Runtime.CompilerServices.MethodImpl(System.Runtime.CompilerServices.MethodImplOptions.AggressiveInlining)]
    public static ref $COMPONENT$ Add$COMPONENT$(this $ECS$.Entity entity) {
        return ref $ECS$.Components<$COMPONENT$>.Add(entity);
    }
    
    [System.Runtime.CompilerServices.MethodImpl(System.Runtime.CompilerServices.MethodImplOptions.AggressiveInlining)]
    public static void Add$COMPONENT$(this $ECS$.Entity entity, $COMPONENT$ $COMPONENT$) {
        $ECS$.Components<$COMPONENT$>.Add(entity) = $COMPONENT$;
    }
    
    [System.Runtime.CompilerServices.MethodImpl(System.Runtime.CompilerServices.MethodImplOptions.AggressiveInlining)]
    public static ref $COMPONENT$ TryAdd$COMPONENT$(this $ECS$.Entity entity) {
        return ref $ECS$.Components<$COMPONENT$>.TryAdd(entity);
    }
    
    [System.Runtime.CompilerServices.MethodImpl(System.Runtime.CompilerServices.MethodImplOptions.AggressiveInlining)]
    public static void TryAdd$COMPONENT$(this $ECS$.Entity entity, $COMPONENT$ $COMPONENT$) {
        $ECS$.Components<$COMPONENT$>.TryAdd(entity) = $COMPONENT$;
    }
    
    [System.Runtime.CompilerServices.MethodImpl(System.Runtime.CompilerServices.MethodImplOptions.AggressiveInlining)]
    public static void Put$COMPONENT$(this $ECS$.Entity entity, $COMPONENT$ $COMPONENT$) {
        $ECS$.Components<$COMPONENT$>.Put(entity, $COMPONENT$);
    }
    
    [System.Runtime.CompilerServices.MethodImpl(System.Runtime.CompilerServices.MethodImplOptions.AggressiveInlining)]
    public static bool Has$COMPONENT$(this $ECS$.Entity entity) {
        return $ECS$.Components<$COMPONENT$>.Has(entity);
    }
    
    [System.Runtime.CompilerServices.MethodImpl(System.Runtime.CompilerServices.MethodImplOptions.AggressiveInlining)]
    public static bool Delete$COMPONENT$(this $ECS$.Entity entity) {
        return $ECS$.Components<$COMPONENT$>.Del(entity);
    }
}
```

Tag live template
```csharp
public static class $TAG$Extension {
    [System.Runtime.CompilerServices.MethodImpl(System.Runtime.CompilerServices.MethodImplOptions.AggressiveInlining)]
    public static void Add$TAG$(this $Ecs$.Entity entity) {
        $Ecs$.Tags<$TAG$>.Add(entity);
    }

    [System.Runtime.CompilerServices.MethodImpl(System.Runtime.CompilerServices.MethodImplOptions.AggressiveInlining)]
    public static void TryAdd$TAG$(this $Ecs$.Entity entity) {
        $Ecs$.Tags<$TAG$>.TryAdd(entity);
    }

    [System.Runtime.CompilerServices.MethodImpl(System.Runtime.CompilerServices.MethodImplOptions.AggressiveInlining)]
    public static bool Has$TAG$(this $Ecs$.Entity entity) {
        return $Ecs$.Tags<$TAG$>.Has(entity);
    }

    [System.Runtime.CompilerServices.MethodImpl(System.Runtime.CompilerServices.MethodImplOptions.AggressiveInlining)]
    public static bool Delete$TAG$(this $Ecs$.Entity entity) {
        return $Ecs$.Tags<$TAG$>.Del(entity);
    }
}
```

Mask live template
```csharp
public static class $MASK$Extension {
    [System.Runtime.CompilerServices.MethodImpl(System.Runtime.CompilerServices.MethodImplOptions.AggressiveInlining)]
    public static void Add$MASK$(this $Ecs$.Entity entity) {
        $Ecs$.Masks<$MASK$>.Set(entity);
    }

    [System.Runtime.CompilerServices.MethodImpl(System.Runtime.CompilerServices.MethodImplOptions.AggressiveInlining)]
    public static bool Has$MASK$(this $Ecs$.Entity entity) {
        return $Ecs$.Masks<$MASK$>.Has(entity);
    }

    [System.Runtime.CompilerServices.MethodImpl(System.Runtime.CompilerServices.MethodImplOptions.AggressiveInlining)]
    public static void Delete$MASK$(this $Ecs$.Entity entity) {
        $Ecs$.Masks<$MASK$>.Del(entity);
    }
}
```

# –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ –¥–≤–∏–∂–∫–∏
### Unity
–ü—Ä–∏–º–µ—Ä:
```csharp
using System;
using UnityEngine;
using FFS.Libraries.StaticEcs;
using Object = UnityEngine.Object;
using Random = UnityEngine.Random;

public struct MyWorldId : IWorldId { }
public struct MySystemsId : ISystemsId { }

public abstract class MyEcs : Ecs<MyWorldId> { }
public abstract class MyWorld : MyEcs.World { }
public abstract class MySystems : Systems<MySystemsId> { }

public struct Position : IComponent {
    public Transform Value;
}

public struct Direction : IComponent {
    public Vector3 Value;
}

public struct Velocity : IComponent {
    public float Value;
}

[Serializable]
public struct SceneData {
    public GameObject EntityPrefab;
}

public struct CreateRandomEntities : IInitSystem {
    public void Init() {
        for (var i = 0; i < 100; i++) {
            var gameObject = Object.Instantiate(MyEcs.Context<SceneData>.Get().EntityPrefab);
            gameObject.transform.position = new Vector3(Random.Range(0, 50), 0, Random.Range(0, 50));
            MyEcs.Entity.New(
                new Position { Value = gameObject.transform },
                new Direction { Value = new Vector3(Random.Range(-1, 1), 0, Random.Range(-1, 1)) },
                new Velocity { Value = 2f });
        }
    }
}

public struct UpdatePositions : IUpdateSystem {
    public void Update() {
        MyWorld.QueryComponents.For((MyEcs.Entity entity, ref Position position, ref Velocity velocity, ref Direction direction) => {
            position.Value.position += direction.Value * (Time.deltaTime * velocity.Value);
        });
    }
}

public class Main : MonoBehaviour {
    public SceneData sceneData;
    
    void Start() {
        MyEcs.Create(EcsConfig.Default());
        MyEcs.Initialize();
        
        MyEcs.Context<SceneData>.Set(sceneData);
        
        MySystems.Create();
        
        MySystems.AddCallOnceSystem<CreateRandomEntities>();
        MySystems.AddUpdateSystem<UpdatePositions>();
        
        MySystems.Initialize();
    }

    void Update() {
        MySystems.Update();
    }

    private void OnDestroy() {
        MySystems.Destroy();
        MyEcs.Destroy();
    }
}
```

# –í–æ–ø—Ä–æ—Å-–æ—Ç–≤–µ—Ç
**WIP**

# –õ–∏—Ü–µ–Ω–∑–∏—è
[MIT license](./LICENSE)
